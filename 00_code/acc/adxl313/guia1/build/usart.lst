ARM GAS  /tmp/ccYTV3TF.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"usart.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.process_as_control,"ax",%progbits
  17              		.align	1
  18              		.arch armv7e-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-d16
  24              	process_as_control:
  25              	.LFB148:
  26              		.file 1 "../Core/Src/usart.c"
   1:../Core/Src/usart.c **** /* USER CODE BEGIN Header */
   2:../Core/Src/usart.c **** /**
   3:../Core/Src/usart.c ****   ******************************************************************************
   4:../Core/Src/usart.c ****   * @file    usart.c
   5:../Core/Src/usart.c ****   * @brief   This file provides code for the configuration
   6:../Core/Src/usart.c ****   *          of the USART instances.
   7:../Core/Src/usart.c ****   ******************************************************************************
   8:../Core/Src/usart.c ****   * @attention
   9:../Core/Src/usart.c ****   *
  10:../Core/Src/usart.c ****   * Copyright (c) 2023 STMicroelectronics.
  11:../Core/Src/usart.c ****   * All rights reserved.
  12:../Core/Src/usart.c ****   *
  13:../Core/Src/usart.c ****   * This software is licensed under terms that can be found in the LICENSE file
  14:../Core/Src/usart.c ****   * in the root directory of this software component.
  15:../Core/Src/usart.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  16:../Core/Src/usart.c ****   *
  17:../Core/Src/usart.c ****   ******************************************************************************
  18:../Core/Src/usart.c ****   */
  19:../Core/Src/usart.c **** /* USER CODE END Header */
  20:../Core/Src/usart.c **** /* Includes ------------------------------------------------------------------*/
  21:../Core/Src/usart.c **** #include "usart.h"
  22:../Core/Src/usart.c **** 
  23:../Core/Src/usart.c **** /* USER CODE BEGIN 0 */
  24:../Core/Src/usart.c **** char Rx_Buffer[RX_BUFF_LEN];
  25:../Core/Src/usart.c **** char Tx_Buffer[TX_BUFF_LEN];
  26:../Core/Src/usart.c **** volatile uint8_t Rx_index = 0;
  27:../Core/Src/usart.c **** 
  28:../Core/Src/usart.c **** //volatile uint8_t Tx_flag = 0;
  29:../Core/Src/usart.c **** volatile uint8_t Rx_flag = 0;
  30:../Core/Src/usart.c **** volatile uint8_t cmd_received = 0;
  31:../Core/Src/usart.c **** 
  32:../Core/Src/usart.c **** volatile uint8_t c; // received char
ARM GAS  /tmp/ccYTV3TF.s 			page 2


  33:../Core/Src/usart.c **** 
  34:../Core/Src/usart.c **** /******************************************************************************
  35:../Core/Src/usart.c **** Function prototypes
  36:../Core/Src/usart.c **** ******************************************************************************/
  37:../Core/Src/usart.c **** 
  38:../Core/Src/usart.c **** static void clear_last_cmd(void);
  39:../Core/Src/usart.c **** static void insert_cmd(const char* str);
  40:../Core/Src/usart.c **** 
  41:../Core/Src/usart.c **** static void process_as_data(void);
  42:../Core/Src/usart.c **** static char process_as_control(void);
  43:../Core/Src/usart.c **** 
  44:../Core/Src/usart.c **** static void enter_key_cb(void);
  45:../Core/Src/usart.c **** static void bcksp_key_cb(void);
  46:../Core/Src/usart.c **** static void esc_key_cb(void);
  47:../Core/Src/usart.c **** static void dollar_key_cb(void);
  48:../Core/Src/usart.c **** 
  49:../Core/Src/usart.c **** //static void left_key_cb(void);
  50:../Core/Src/usart.c **** //static void up_key_cb(void);
  51:../Core/Src/usart.c **** //static void right_key_cb(void);
  52:../Core/Src/usart.c **** //static void down_key_cb(void);
  53:../Core/Src/usart.c **** 
  54:../Core/Src/usart.c **** /* USER CODE END 0 */
  55:../Core/Src/usart.c **** 
  56:../Core/Src/usart.c **** UART_HandleTypeDef huart3;
  57:../Core/Src/usart.c **** 
  58:../Core/Src/usart.c **** /* USART3 init function */
  59:../Core/Src/usart.c **** 
  60:../Core/Src/usart.c **** void MX_USART3_UART_Init(void)
  61:../Core/Src/usart.c **** {
  62:../Core/Src/usart.c **** 
  63:../Core/Src/usart.c ****   /* USER CODE BEGIN USART3_Init 0 */
  64:../Core/Src/usart.c **** 
  65:../Core/Src/usart.c ****   /* USER CODE END USART3_Init 0 */
  66:../Core/Src/usart.c **** 
  67:../Core/Src/usart.c ****   /* USER CODE BEGIN USART3_Init 1 */
  68:../Core/Src/usart.c **** 
  69:../Core/Src/usart.c ****   /* USER CODE END USART3_Init 1 */
  70:../Core/Src/usart.c ****   huart3.Instance = USART3;
  71:../Core/Src/usart.c ****   huart3.Init.BaudRate = 115200;
  72:../Core/Src/usart.c ****   huart3.Init.WordLength = UART_WORDLENGTH_8B;
  73:../Core/Src/usart.c ****   huart3.Init.StopBits = UART_STOPBITS_1;
  74:../Core/Src/usart.c ****   huart3.Init.Parity = UART_PARITY_NONE;
  75:../Core/Src/usart.c ****   huart3.Init.Mode = UART_MODE_TX_RX;
  76:../Core/Src/usart.c ****   huart3.Init.HwFlowCtl = UART_HWCONTROL_NONE;
  77:../Core/Src/usart.c ****   huart3.Init.OverSampling = UART_OVERSAMPLING_16;
  78:../Core/Src/usart.c ****   huart3.Init.OneBitSampling = UART_ONE_BIT_SAMPLE_DISABLE;
  79:../Core/Src/usart.c ****   huart3.AdvancedInit.AdvFeatureInit = UART_ADVFEATURE_NO_INIT;
  80:../Core/Src/usart.c ****   if (HAL_UART_Init(&huart3) != HAL_OK)
  81:../Core/Src/usart.c ****   {
  82:../Core/Src/usart.c ****     Error_Handler();
  83:../Core/Src/usart.c ****   }
  84:../Core/Src/usart.c ****   /* USER CODE BEGIN USART3_Init 2 */
  85:../Core/Src/usart.c **** 
  86:../Core/Src/usart.c ****   /* USER CODE END USART3_Init 2 */
  87:../Core/Src/usart.c **** 
  88:../Core/Src/usart.c **** }
  89:../Core/Src/usart.c **** 
ARM GAS  /tmp/ccYTV3TF.s 			page 3


  90:../Core/Src/usart.c **** void HAL_UART_MspInit(UART_HandleTypeDef* uartHandle)
  91:../Core/Src/usart.c **** {
  92:../Core/Src/usart.c **** 
  93:../Core/Src/usart.c ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
  94:../Core/Src/usart.c ****   RCC_PeriphCLKInitTypeDef PeriphClkInitStruct = {0};
  95:../Core/Src/usart.c ****   if(uartHandle->Instance==USART3)
  96:../Core/Src/usart.c ****   {
  97:../Core/Src/usart.c ****   /* USER CODE BEGIN USART3_MspInit 0 */
  98:../Core/Src/usart.c **** 
  99:../Core/Src/usart.c ****   /* USER CODE END USART3_MspInit 0 */
 100:../Core/Src/usart.c **** 
 101:../Core/Src/usart.c ****   /** Initializes the peripherals clock
 102:../Core/Src/usart.c ****   */
 103:../Core/Src/usart.c ****     PeriphClkInitStruct.PeriphClockSelection = RCC_PERIPHCLK_USART3;
 104:../Core/Src/usart.c ****     PeriphClkInitStruct.Usart3ClockSelection = RCC_USART3CLKSOURCE_PCLK1;
 105:../Core/Src/usart.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInitStruct) != HAL_OK)
 106:../Core/Src/usart.c ****     {
 107:../Core/Src/usart.c ****       Error_Handler();
 108:../Core/Src/usart.c ****     }
 109:../Core/Src/usart.c **** 
 110:../Core/Src/usart.c ****     /* USART3 clock enable */
 111:../Core/Src/usart.c ****     __HAL_RCC_USART3_CLK_ENABLE();
 112:../Core/Src/usart.c **** 
 113:../Core/Src/usart.c ****     __HAL_RCC_GPIOD_CLK_ENABLE();
 114:../Core/Src/usart.c ****     /**USART3 GPIO Configuration
 115:../Core/Src/usart.c ****     PD8     ------> USART3_TX
 116:../Core/Src/usart.c ****     PD9     ------> USART3_RX
 117:../Core/Src/usart.c ****     */
 118:../Core/Src/usart.c ****     GPIO_InitStruct.Pin = GPIO_PIN_8|GPIO_PIN_9;
 119:../Core/Src/usart.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 120:../Core/Src/usart.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 121:../Core/Src/usart.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 122:../Core/Src/usart.c ****     GPIO_InitStruct.Alternate = GPIO_AF7_USART3;
 123:../Core/Src/usart.c ****     HAL_GPIO_Init(GPIOD, &GPIO_InitStruct);
 124:../Core/Src/usart.c **** 
 125:../Core/Src/usart.c ****     /* USART3 interrupt Init */
 126:../Core/Src/usart.c ****     HAL_NVIC_SetPriority(USART3_IRQn, 0, 0);
 127:../Core/Src/usart.c ****     HAL_NVIC_EnableIRQ(USART3_IRQn);
 128:../Core/Src/usart.c ****   /* USER CODE BEGIN USART3_MspInit 1 */
 129:../Core/Src/usart.c **** 
 130:../Core/Src/usart.c ****   /* USER CODE END USART3_MspInit 1 */
 131:../Core/Src/usart.c ****   }
 132:../Core/Src/usart.c **** }
 133:../Core/Src/usart.c **** 
 134:../Core/Src/usart.c **** void HAL_UART_MspDeInit(UART_HandleTypeDef* uartHandle)
 135:../Core/Src/usart.c **** {
 136:../Core/Src/usart.c **** 
 137:../Core/Src/usart.c ****   if(uartHandle->Instance==USART3)
 138:../Core/Src/usart.c ****   {
 139:../Core/Src/usart.c ****   /* USER CODE BEGIN USART3_MspDeInit 0 */
 140:../Core/Src/usart.c **** 
 141:../Core/Src/usart.c ****   /* USER CODE END USART3_MspDeInit 0 */
 142:../Core/Src/usart.c ****     /* Peripheral clock disable */
 143:../Core/Src/usart.c ****     __HAL_RCC_USART3_CLK_DISABLE();
 144:../Core/Src/usart.c **** 
 145:../Core/Src/usart.c ****     /**USART3 GPIO Configuration
 146:../Core/Src/usart.c ****     PD8     ------> USART3_TX
ARM GAS  /tmp/ccYTV3TF.s 			page 4


 147:../Core/Src/usart.c ****     PD9     ------> USART3_RX
 148:../Core/Src/usart.c ****     */
 149:../Core/Src/usart.c ****     HAL_GPIO_DeInit(GPIOD, GPIO_PIN_8|GPIO_PIN_9);
 150:../Core/Src/usart.c **** 
 151:../Core/Src/usart.c ****     /* USART3 interrupt Deinit */
 152:../Core/Src/usart.c ****     HAL_NVIC_DisableIRQ(USART3_IRQn);
 153:../Core/Src/usart.c ****   /* USER CODE BEGIN USART3_MspDeInit 1 */
 154:../Core/Src/usart.c **** 
 155:../Core/Src/usart.c ****   /* USER CODE END USART3_MspDeInit 1 */
 156:../Core/Src/usart.c ****   }
 157:../Core/Src/usart.c **** }
 158:../Core/Src/usart.c **** 
 159:../Core/Src/usart.c **** /* USER CODE BEGIN 1 */
 160:../Core/Src/usart.c **** 
 161:../Core/Src/usart.c **** /******************************************************************************
 162:../Core/Src/usart.c **** @brief	 	 Receives a char by UART serial port
 163:../Core/Src/usart.c **** ******************************************************************************/
 164:../Core/Src/usart.c **** char UART_Receive(void)
 165:../Core/Src/usart.c **** {
 166:../Core/Src/usart.c **** 	if(Rx_index == (RX_BUFF_LEN - 1)) // Is the buffer full?
 167:../Core/Src/usart.c **** 		// Treat as 'CR'
 168:../Core/Src/usart.c **** 		c = ENTER_KEY;
 169:../Core/Src/usart.c **** 	
 170:../Core/Src/usart.c **** 	if(c != ENTER_KEY) // Is this the end of reception?
 171:../Core/Src/usart.c **** 		Rx_UART_init(); // prepare for next character
 172:../Core/Src/usart.c **** 	
 173:../Core/Src/usart.c **** 	if(process_as_control() == 0) // Is the received char a control char?
 174:../Core/Src/usart.c **** 		return (char)(-1);
 175:../Core/Src/usart.c **** 	
 176:../Core/Src/usart.c **** 	// Its not a special character
 177:../Core/Src/usart.c **** 	process_as_data();
 178:../Core/Src/usart.c **** 	return c;
 179:../Core/Src/usart.c **** }
 180:../Core/Src/usart.c **** 
 181:../Core/Src/usart.c **** /******************************************************************************
 182:../Core/Src/usart.c **** @param  	 char received 'c' via UART
 183:../Core/Src/usart.c **** 
 184:../Core/Src/usart.c **** @brief	 	 process the char received as a special character
 185:../Core/Src/usart.c **** ******************************************************************************/
 186:../Core/Src/usart.c **** 
 187:../Core/Src/usart.c **** typedef struct Special_Key {
 188:../Core/Src/usart.c **** 	const uint8_t code;
 189:../Core/Src/usart.c **** 	void (*fn)(void);
 190:../Core/Src/usart.c **** } Special_Key_t;
 191:../Core/Src/usart.c **** 
 192:../Core/Src/usart.c **** // List of special keys codes and callbacks
 193:../Core/Src/usart.c **** const Special_Key_t s_key_list[] = 
 194:../Core/Src/usart.c **** {
 195:../Core/Src/usart.c **** 	{ENTER_KEY	, enter_key_cb	},
 196:../Core/Src/usart.c **** 	{BCKSP_KEY	, bcksp_key_cb	},
 197:../Core/Src/usart.c **** 	{ESC_KEY		, esc_key_cb		},
 198:../Core/Src/usart.c **** 	{DOLLAR_KEY	, dollar_key_cb	},
 199:../Core/Src/usart.c **** //	{LEFT_ARROW_KEY	, left_key_cb},
 200:../Core/Src/usart.c **** //	{UP_ARROW_KEY		, dollar_key_cb},
 201:../Core/Src/usart.c **** //	{RIGHT_ARROW_KEY, right_key_cb},
 202:../Core/Src/usart.c **** //	{DOWN_ARROW_KEY	, down_key_cb},
 203:../Core/Src/usart.c **** 	
ARM GAS  /tmp/ccYTV3TF.s 			page 5


 204:../Core/Src/usart.c **** 	{0,0}
 205:../Core/Src/usart.c **** };
 206:../Core/Src/usart.c **** 
 207:../Core/Src/usart.c **** static char process_as_control(void)
 208:../Core/Src/usart.c **** {
  27              		.loc 1 208 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
 209:../Core/Src/usart.c **** 	const Special_Key_t *s_key_ptr = s_key_list;
  31              		.loc 1 209 2 view .LVU1
  32              	.LVL0:
 210:../Core/Src/usart.c **** 	
 211:../Core/Src/usart.c **** 	while(s_key_ptr->code)
  33              		.loc 1 211 2 view .LVU2
 209:../Core/Src/usart.c **** 	const Special_Key_t *s_key_ptr = s_key_list;
  34              		.loc 1 209 23 is_stmt 0 view .LVU3
  35 0000 0A4A     		ldr	r2, .L13
  36              	.LVL1:
  37              		.loc 1 211 7 is_stmt 1 view .LVU4
  38              		.loc 1 211 17 is_stmt 0 view .LVU5
  39 0002 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
  40              		.loc 1 211 7 view .LVU6
  41 0004 79B1     		cbz	r1, .L11
 208:../Core/Src/usart.c **** 	const Special_Key_t *s_key_ptr = s_key_list;
  42              		.loc 1 208 1 view .LVU7
  43 0006 08B5     		push	{r3, lr}
  44              	.LCFI0:
  45              		.cfi_def_cfa_offset 8
  46              		.cfi_offset 3, -8
  47              		.cfi_offset 14, -4
  48              	.L5:
 212:../Core/Src/usart.c **** 	{
 213:../Core/Src/usart.c **** 		if(c == (s_key_ptr->code))// Is this a control char?
  49              		.loc 1 213 3 is_stmt 1 view .LVU8
  50              		.loc 1 213 8 is_stmt 0 view .LVU9
  51 0008 094B     		ldr	r3, .L13+4
  52 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  53 000c DBB2     		uxtb	r3, r3
  54              		.loc 1 213 5 view .LVU10
  55 000e 8B42     		cmp	r3, r1
  56 0010 05D0     		beq	.L12
 214:../Core/Src/usart.c **** 		{
 215:../Core/Src/usart.c **** 			// Execute this control char callback
 216:../Core/Src/usart.c **** 			s_key_ptr->fn();	
 217:../Core/Src/usart.c **** 			return 0; // processed as control
 218:../Core/Src/usart.c **** 		}
 219:../Core/Src/usart.c **** 		s_key_ptr++;
  57              		.loc 1 219 3 is_stmt 1 view .LVU11
  58              		.loc 1 219 12 is_stmt 0 view .LVU12
  59 0012 0832     		adds	r2, r2, #8
  60              	.LVL2:
 211:../Core/Src/usart.c **** 	{
  61              		.loc 1 211 7 is_stmt 1 view .LVU13
 211:../Core/Src/usart.c **** 	{
  62              		.loc 1 211 17 is_stmt 0 view .LVU14
  63 0014 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
ARM GAS  /tmp/ccYTV3TF.s 			page 6


 211:../Core/Src/usart.c **** 	{
  64              		.loc 1 211 7 view .LVU15
  65 0016 0029     		cmp	r1, #0
  66 0018 F6D1     		bne	.L5
 220:../Core/Src/usart.c **** 	}
 221:../Core/Src/usart.c **** 
 222:../Core/Src/usart.c **** 	// Its not a control char. Needs to be processed as data
 223:../Core/Src/usart.c **** 	return (char)(-1);
  67              		.loc 1 223 9 view .LVU16
  68 001a FF20     		movs	r0, #255
  69 001c 02E0     		b	.L4
  70              	.L12:
 216:../Core/Src/usart.c **** 			return 0; // processed as control
  71              		.loc 1 216 4 is_stmt 1 view .LVU17
 216:../Core/Src/usart.c **** 			return 0; // processed as control
  72              		.loc 1 216 13 is_stmt 0 view .LVU18
  73 001e 5368     		ldr	r3, [r2, #4]
 216:../Core/Src/usart.c **** 			return 0; // processed as control
  74              		.loc 1 216 4 view .LVU19
  75 0020 9847     		blx	r3
  76              	.LVL3:
 217:../Core/Src/usart.c **** 		}
  77              		.loc 1 217 4 is_stmt 1 view .LVU20
 217:../Core/Src/usart.c **** 		}
  78              		.loc 1 217 11 is_stmt 0 view .LVU21
  79 0022 0020     		movs	r0, #0
  80              	.L4:
 224:../Core/Src/usart.c **** }
  81              		.loc 1 224 1 view .LVU22
  82 0024 08BD     		pop	{r3, pc}
  83              	.LVL4:
  84              	.L11:
  85              	.LCFI1:
  86              		.cfi_def_cfa_offset 0
  87              		.cfi_restore 3
  88              		.cfi_restore 14
 223:../Core/Src/usart.c **** }
  89              		.loc 1 223 9 view .LVU23
  90 0026 FF20     		movs	r0, #255
  91              		.loc 1 224 1 view .LVU24
  92 0028 7047     		bx	lr
  93              	.L14:
  94 002a 00BF     		.align	2
  95              	.L13:
  96 002c 00000000 		.word	.LANCHOR0
  97 0030 00000000 		.word	.LANCHOR1
  98              		.cfi_endproc
  99              	.LFE148:
 101              		.section	.text.process_as_data,"ax",%progbits
 102              		.align	1
 103              		.syntax unified
 104              		.thumb
 105              		.thumb_func
 106              		.fpu fpv5-d16
 108              	process_as_data:
 109              	.LFB153:
 225:../Core/Src/usart.c **** 
ARM GAS  /tmp/ccYTV3TF.s 			page 7


 226:../Core/Src/usart.c **** static void enter_key_cb(void)
 227:../Core/Src/usart.c **** {
 228:../Core/Src/usart.c **** 	UART_puts("\n\r");
 229:../Core/Src/usart.c **** 	Rx_Buffer[Rx_index] = 0;	// mark end of string
 230:../Core/Src/usart.c **** 	Rx_index = 0;
 231:../Core/Src/usart.c **** 	cmd_received = 1;					// informs main a command was received
 232:../Core/Src/usart.c **** }
 233:../Core/Src/usart.c **** 
 234:../Core/Src/usart.c **** static void bcksp_key_cb(void)
 235:../Core/Src/usart.c **** {
 236:../Core/Src/usart.c **** 	if(Rx_index > 0) // Is there characters left to delete?
 237:../Core/Src/usart.c **** 		Rx_index--;
 238:../Core/Src/usart.c **** 		// c is equal to BCKSP_KEY
 239:../Core/Src/usart.c **** 	else
 240:../Core/Src/usart.c **** 		// Nothing to delete
 241:../Core/Src/usart.c **** 		c = 0; // Print nothing
 242:../Core/Src/usart.c **** 	UART_putchar(c);
 243:../Core/Src/usart.c **** }
 244:../Core/Src/usart.c **** 
 245:../Core/Src/usart.c **** static void esc_key_cb(void)
 246:../Core/Src/usart.c **** {
 247:../Core/Src/usart.c **** 	clear_last_cmd();
 248:../Core/Src/usart.c **** }
 249:../Core/Src/usart.c **** 
 250:../Core/Src/usart.c **** static void dollar_key_cb(void)
 251:../Core/Src/usart.c **** {
 252:../Core/Src/usart.c **** 	clear_last_cmd();
 253:../Core/Src/usart.c **** 	UART_puts(last_valid_cmd); // print last valid command
 254:../Core/Src/usart.c **** 	insert_cmd(last_valid_cmd); // fill Rx_Buffer with last valid command
 255:../Core/Src/usart.c **** }
 256:../Core/Src/usart.c **** 
 257:../Core/Src/usart.c **** //static void left_key_cb(void)
 258:../Core/Src/usart.c **** //{
 259:../Core/Src/usart.c **** //
 260:../Core/Src/usart.c **** //}
 261:../Core/Src/usart.c **** //
 262:../Core/Src/usart.c **** //static void up_key_cb(void)
 263:../Core/Src/usart.c **** //{
 264:../Core/Src/usart.c **** //
 265:../Core/Src/usart.c **** //}
 266:../Core/Src/usart.c **** //
 267:../Core/Src/usart.c **** //static void right_key_cb(void)
 268:../Core/Src/usart.c **** //{
 269:../Core/Src/usart.c **** //
 270:../Core/Src/usart.c **** //}
 271:../Core/Src/usart.c **** //
 272:../Core/Src/usart.c **** //static void down_key_cb(void)
 273:../Core/Src/usart.c **** //{
 274:../Core/Src/usart.c **** //
 275:../Core/Src/usart.c **** //}
 276:../Core/Src/usart.c **** 
 277:../Core/Src/usart.c **** /******************************************************************************
 278:../Core/Src/usart.c **** @param  	 char received 'c' via UART
 279:../Core/Src/usart.c **** 
 280:../Core/Src/usart.c **** @brief	 	 process the char received as a data character
 281:../Core/Src/usart.c **** ******************************************************************************/
 282:../Core/Src/usart.c **** 
ARM GAS  /tmp/ccYTV3TF.s 			page 8


 283:../Core/Src/usart.c **** static void process_as_data(void)
 284:../Core/Src/usart.c **** {
 110              		.loc 1 284 1 is_stmt 1 view -0
 111              		.cfi_startproc
 112              		@ args = 0, pretend = 0, frame = 0
 113              		@ frame_needed = 0, uses_anonymous_args = 0
 114              		@ link register save eliminated.
 285:../Core/Src/usart.c **** 	// add received char to Rx_Buffer
 286:../Core/Src/usart.c **** 	Rx_Buffer[Rx_index] = c;
 115              		.loc 1 286 2 view .LVU26
 116              		.loc 1 286 11 is_stmt 0 view .LVU27
 117 0000 054A     		ldr	r2, .L16
 118 0002 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 119 0004 DBB2     		uxtb	r3, r3
 120              		.loc 1 286 22 view .LVU28
 121 0006 0549     		ldr	r1, .L16+4
 122 0008 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 123 000a 0549     		ldr	r1, .L16+8
 124 000c C854     		strb	r0, [r1, r3]
 287:../Core/Src/usart.c **** 	Rx_index++;
 125              		.loc 1 287 2 is_stmt 1 view .LVU29
 126              		.loc 1 287 10 is_stmt 0 view .LVU30
 127 000e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 128 0010 0133     		adds	r3, r3, #1
 129 0012 DBB2     		uxtb	r3, r3
 130 0014 1370     		strb	r3, [r2]
 288:../Core/Src/usart.c **** }
 131              		.loc 1 288 1 view .LVU31
 132 0016 7047     		bx	lr
 133              	.L17:
 134              		.align	2
 135              	.L16:
 136 0018 00000000 		.word	.LANCHOR2
 137 001c 00000000 		.word	.LANCHOR1
 138 0020 00000000 		.word	.LANCHOR3
 139              		.cfi_endproc
 140              	.LFE153:
 142              		.section	.text.insert_cmd,"ax",%progbits
 143              		.align	1
 144              		.syntax unified
 145              		.thumb
 146              		.thumb_func
 147              		.fpu fpv5-d16
 149              	insert_cmd:
 150              	.LVL5:
 151              	.LFB155:
 289:../Core/Src/usart.c **** 
 290:../Core/Src/usart.c **** /******************************************************************************
 291:../Core/Src/usart.c **** @brief	 	 send backspaces via terminal to clear the command line
 292:../Core/Src/usart.c **** ******************************************************************************/
 293:../Core/Src/usart.c **** static void clear_last_cmd(void)
 294:../Core/Src/usart.c **** {
 295:../Core/Src/usart.c **** 	if(Rx_index == 0) // empty buffer
 296:../Core/Src/usart.c **** 		return;
 297:../Core/Src/usart.c **** 	
 298:../Core/Src/usart.c **** 	// fill Rx_Buffer with 'BCKSP_KEY'
 299:../Core/Src/usart.c **** 	memset(Rx_Buffer, BCKSP_KEY, Rx_index);
ARM GAS  /tmp/ccYTV3TF.s 			page 9


 300:../Core/Src/usart.c **** 	Rx_Buffer[Rx_index] = 0; 	// mark end of string
 301:../Core/Src/usart.c **** 	Rx_index = 0;
 302:../Core/Src/usart.c **** 	
 303:../Core/Src/usart.c **** 	UART_puts(Rx_Buffer); // print it -> this will clear the command line 
 304:../Core/Src/usart.c **** }
 305:../Core/Src/usart.c **** 
 306:../Core/Src/usart.c **** /******************************************************************************
 307:../Core/Src/usart.c **** @brief	 	 Assigns 'Rx_Buffer' with string 'str', making 'Rx_index' point to
 308:../Core/Src/usart.c **** 							the end of 'Rx_Buffer'
 309:../Core/Src/usart.c **** @param  	 String to be inserted in 'Rx_Buffer'
 310:../Core/Src/usart.c **** ******************************************************************************/
 311:../Core/Src/usart.c **** static void insert_cmd(const char* str)
 312:../Core/Src/usart.c **** {
 152              		.loc 1 312 1 is_stmt 1 view -0
 153              		.cfi_startproc
 154              		@ args = 0, pretend = 0, frame = 0
 155              		@ frame_needed = 0, uses_anonymous_args = 0
 313:../Core/Src/usart.c **** 	if((str == NULL) || (str[0] == 0))
 156              		.loc 1 313 2 view .LVU33
 157              		.loc 1 313 4 is_stmt 0 view .LVU34
 158 0000 98B1     		cbz	r0, .L21
 312:../Core/Src/usart.c **** 	if((str == NULL) || (str[0] == 0))
 159              		.loc 1 312 1 discriminator 1 view .LVU35
 160 0002 10B5     		push	{r4, lr}
 161              	.LCFI2:
 162              		.cfi_def_cfa_offset 8
 163              		.cfi_offset 4, -8
 164              		.cfi_offset 14, -4
 165 0004 0446     		mov	r4, r0
 166              		.loc 1 313 26 discriminator 1 view .LVU36
 167 0006 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 168              		.loc 1 313 19 discriminator 1 view .LVU37
 169 0008 1BB1     		cbz	r3, .L18
 314:../Core/Src/usart.c **** 		return;
 315:../Core/Src/usart.c **** 	
 316:../Core/Src/usart.c **** 	int len = strlen(str);
 170              		.loc 1 316 2 is_stmt 1 view .LVU38
 171              		.loc 1 316 12 is_stmt 0 view .LVU39
 172 000a FFF7FEFF 		bl	strlen
 173              	.LVL6:
 317:../Core/Src/usart.c **** 	if(len > RX_BUFF_LEN)
 174              		.loc 1 317 2 is_stmt 1 view .LVU40
 175              		.loc 1 317 4 is_stmt 0 view .LVU41
 176 000e 1028     		cmp	r0, #16
 177 0010 00DD     		ble	.L24
 178              	.LVL7:
 179              	.L18:
 318:../Core/Src/usart.c **** 		return;
 319:../Core/Src/usart.c **** 	
 320:../Core/Src/usart.c **** 	strcpy(Rx_Buffer, str);
 321:../Core/Src/usart.c **** 	Rx_index = strlen(str);	// 'Rx_index' point to the last 'Rx_Buffer' position
 322:../Core/Src/usart.c **** }
 180              		.loc 1 322 1 view .LVU42
 181 0012 10BD     		pop	{r4, pc}
 182              	.LVL8:
 183              	.L24:
 320:../Core/Src/usart.c **** 	Rx_index = strlen(str);	// 'Rx_index' point to the last 'Rx_Buffer' position
ARM GAS  /tmp/ccYTV3TF.s 			page 10


 184              		.loc 1 320 2 is_stmt 1 view .LVU43
 185 0014 2146     		mov	r1, r4
 186 0016 0548     		ldr	r0, .L25
 187              	.LVL9:
 320:../Core/Src/usart.c **** 	Rx_index = strlen(str);	// 'Rx_index' point to the last 'Rx_Buffer' position
 188              		.loc 1 320 2 is_stmt 0 view .LVU44
 189 0018 FFF7FEFF 		bl	strcpy
 190              	.LVL10:
 321:../Core/Src/usart.c **** }
 191              		.loc 1 321 2 is_stmt 1 view .LVU45
 321:../Core/Src/usart.c **** }
 192              		.loc 1 321 13 is_stmt 0 view .LVU46
 193 001c 2046     		mov	r0, r4
 194 001e FFF7FEFF 		bl	strlen
 195              	.LVL11:
 321:../Core/Src/usart.c **** }
 196              		.loc 1 321 11 view .LVU47
 197 0022 C0B2     		uxtb	r0, r0
 198 0024 024B     		ldr	r3, .L25+4
 199 0026 1870     		strb	r0, [r3]
 200 0028 F3E7     		b	.L18
 201              	.LVL12:
 202              	.L21:
 203              	.LCFI3:
 204              		.cfi_def_cfa_offset 0
 205              		.cfi_restore 4
 206              		.cfi_restore 14
 321:../Core/Src/usart.c **** }
 207              		.loc 1 321 11 view .LVU48
 208 002a 7047     		bx	lr
 209              	.L26:
 210              		.align	2
 211              	.L25:
 212 002c 00000000 		.word	.LANCHOR3
 213 0030 00000000 		.word	.LANCHOR2
 214              		.cfi_endproc
 215              	.LFE155:
 217              		.section	.text.MX_USART3_UART_Init,"ax",%progbits
 218              		.align	1
 219              		.global	MX_USART3_UART_Init
 220              		.syntax unified
 221              		.thumb
 222              		.thumb_func
 223              		.fpu fpv5-d16
 225              	MX_USART3_UART_Init:
 226              	.LFB144:
  61:../Core/Src/usart.c **** 
 227              		.loc 1 61 1 is_stmt 1 view -0
 228              		.cfi_startproc
 229              		@ args = 0, pretend = 0, frame = 0
 230              		@ frame_needed = 0, uses_anonymous_args = 0
 231 0000 08B5     		push	{r3, lr}
 232              	.LCFI4:
 233              		.cfi_def_cfa_offset 8
 234              		.cfi_offset 3, -8
 235              		.cfi_offset 14, -4
  70:../Core/Src/usart.c ****   huart3.Init.BaudRate = 115200;
ARM GAS  /tmp/ccYTV3TF.s 			page 11


 236              		.loc 1 70 3 view .LVU50
  70:../Core/Src/usart.c ****   huart3.Init.BaudRate = 115200;
 237              		.loc 1 70 19 is_stmt 0 view .LVU51
 238 0002 0B48     		ldr	r0, .L31
 239 0004 0B4B     		ldr	r3, .L31+4
 240 0006 0360     		str	r3, [r0]
  71:../Core/Src/usart.c ****   huart3.Init.WordLength = UART_WORDLENGTH_8B;
 241              		.loc 1 71 3 is_stmt 1 view .LVU52
  71:../Core/Src/usart.c ****   huart3.Init.WordLength = UART_WORDLENGTH_8B;
 242              		.loc 1 71 24 is_stmt 0 view .LVU53
 243 0008 4FF4E133 		mov	r3, #115200
 244 000c 4360     		str	r3, [r0, #4]
  72:../Core/Src/usart.c ****   huart3.Init.StopBits = UART_STOPBITS_1;
 245              		.loc 1 72 3 is_stmt 1 view .LVU54
  72:../Core/Src/usart.c ****   huart3.Init.StopBits = UART_STOPBITS_1;
 246              		.loc 1 72 26 is_stmt 0 view .LVU55
 247 000e 0023     		movs	r3, #0
 248 0010 8360     		str	r3, [r0, #8]
  73:../Core/Src/usart.c ****   huart3.Init.Parity = UART_PARITY_NONE;
 249              		.loc 1 73 3 is_stmt 1 view .LVU56
  73:../Core/Src/usart.c ****   huart3.Init.Parity = UART_PARITY_NONE;
 250              		.loc 1 73 24 is_stmt 0 view .LVU57
 251 0012 C360     		str	r3, [r0, #12]
  74:../Core/Src/usart.c ****   huart3.Init.Mode = UART_MODE_TX_RX;
 252              		.loc 1 74 3 is_stmt 1 view .LVU58
  74:../Core/Src/usart.c ****   huart3.Init.Mode = UART_MODE_TX_RX;
 253              		.loc 1 74 22 is_stmt 0 view .LVU59
 254 0014 0361     		str	r3, [r0, #16]
  75:../Core/Src/usart.c ****   huart3.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 255              		.loc 1 75 3 is_stmt 1 view .LVU60
  75:../Core/Src/usart.c ****   huart3.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 256              		.loc 1 75 20 is_stmt 0 view .LVU61
 257 0016 0C22     		movs	r2, #12
 258 0018 4261     		str	r2, [r0, #20]
  76:../Core/Src/usart.c ****   huart3.Init.OverSampling = UART_OVERSAMPLING_16;
 259              		.loc 1 76 3 is_stmt 1 view .LVU62
  76:../Core/Src/usart.c ****   huart3.Init.OverSampling = UART_OVERSAMPLING_16;
 260              		.loc 1 76 25 is_stmt 0 view .LVU63
 261 001a 8361     		str	r3, [r0, #24]
  77:../Core/Src/usart.c ****   huart3.Init.OneBitSampling = UART_ONE_BIT_SAMPLE_DISABLE;
 262              		.loc 1 77 3 is_stmt 1 view .LVU64
  77:../Core/Src/usart.c ****   huart3.Init.OneBitSampling = UART_ONE_BIT_SAMPLE_DISABLE;
 263              		.loc 1 77 28 is_stmt 0 view .LVU65
 264 001c C361     		str	r3, [r0, #28]
  78:../Core/Src/usart.c ****   huart3.AdvancedInit.AdvFeatureInit = UART_ADVFEATURE_NO_INIT;
 265              		.loc 1 78 3 is_stmt 1 view .LVU66
  78:../Core/Src/usart.c ****   huart3.AdvancedInit.AdvFeatureInit = UART_ADVFEATURE_NO_INIT;
 266              		.loc 1 78 30 is_stmt 0 view .LVU67
 267 001e 0362     		str	r3, [r0, #32]
  79:../Core/Src/usart.c ****   if (HAL_UART_Init(&huart3) != HAL_OK)
 268              		.loc 1 79 3 is_stmt 1 view .LVU68
  79:../Core/Src/usart.c ****   if (HAL_UART_Init(&huart3) != HAL_OK)
 269              		.loc 1 79 38 is_stmt 0 view .LVU69
 270 0020 4362     		str	r3, [r0, #36]
  80:../Core/Src/usart.c ****   {
 271              		.loc 1 80 3 is_stmt 1 view .LVU70
  80:../Core/Src/usart.c ****   {
ARM GAS  /tmp/ccYTV3TF.s 			page 12


 272              		.loc 1 80 7 is_stmt 0 view .LVU71
 273 0022 FFF7FEFF 		bl	HAL_UART_Init
 274              	.LVL13:
  80:../Core/Src/usart.c ****   {
 275              		.loc 1 80 6 view .LVU72
 276 0026 00B9     		cbnz	r0, .L30
 277              	.L27:
  88:../Core/Src/usart.c **** 
 278              		.loc 1 88 1 view .LVU73
 279 0028 08BD     		pop	{r3, pc}
 280              	.L30:
  82:../Core/Src/usart.c ****   }
 281              		.loc 1 82 5 is_stmt 1 view .LVU74
 282 002a FFF7FEFF 		bl	Error_Handler
 283              	.LVL14:
  88:../Core/Src/usart.c **** 
 284              		.loc 1 88 1 is_stmt 0 view .LVU75
 285 002e FBE7     		b	.L27
 286              	.L32:
 287              		.align	2
 288              	.L31:
 289 0030 00000000 		.word	.LANCHOR4
 290 0034 00480040 		.word	1073760256
 291              		.cfi_endproc
 292              	.LFE144:
 294              		.section	.text.HAL_UART_MspInit,"ax",%progbits
 295              		.align	1
 296              		.global	HAL_UART_MspInit
 297              		.syntax unified
 298              		.thumb
 299              		.thumb_func
 300              		.fpu fpv5-d16
 302              	HAL_UART_MspInit:
 303              	.LVL15:
 304              	.LFB145:
  91:../Core/Src/usart.c **** 
 305              		.loc 1 91 1 is_stmt 1 view -0
 306              		.cfi_startproc
 307              		@ args = 0, pretend = 0, frame = 176
 308              		@ frame_needed = 0, uses_anonymous_args = 0
  91:../Core/Src/usart.c **** 
 309              		.loc 1 91 1 is_stmt 0 view .LVU77
 310 0000 10B5     		push	{r4, lr}
 311              	.LCFI5:
 312              		.cfi_def_cfa_offset 8
 313              		.cfi_offset 4, -8
 314              		.cfi_offset 14, -4
 315 0002 ACB0     		sub	sp, sp, #176
 316              	.LCFI6:
 317              		.cfi_def_cfa_offset 184
 318 0004 0446     		mov	r4, r0
  93:../Core/Src/usart.c ****   RCC_PeriphCLKInitTypeDef PeriphClkInitStruct = {0};
 319              		.loc 1 93 3 is_stmt 1 view .LVU78
  93:../Core/Src/usart.c ****   RCC_PeriphCLKInitTypeDef PeriphClkInitStruct = {0};
 320              		.loc 1 93 20 is_stmt 0 view .LVU79
 321 0006 0021     		movs	r1, #0
 322 0008 2791     		str	r1, [sp, #156]
ARM GAS  /tmp/ccYTV3TF.s 			page 13


 323 000a 2891     		str	r1, [sp, #160]
 324 000c 2991     		str	r1, [sp, #164]
 325 000e 2A91     		str	r1, [sp, #168]
 326 0010 2B91     		str	r1, [sp, #172]
  94:../Core/Src/usart.c ****   if(uartHandle->Instance==USART3)
 327              		.loc 1 94 3 is_stmt 1 view .LVU80
  94:../Core/Src/usart.c ****   if(uartHandle->Instance==USART3)
 328              		.loc 1 94 28 is_stmt 0 view .LVU81
 329 0012 9022     		movs	r2, #144
 330 0014 03A8     		add	r0, sp, #12
 331              	.LVL16:
  94:../Core/Src/usart.c ****   if(uartHandle->Instance==USART3)
 332              		.loc 1 94 28 view .LVU82
 333 0016 FFF7FEFF 		bl	memset
 334              	.LVL17:
  95:../Core/Src/usart.c ****   {
 335              		.loc 1 95 3 is_stmt 1 view .LVU83
  95:../Core/Src/usart.c ****   {
 336              		.loc 1 95 16 is_stmt 0 view .LVU84
 337 001a 2268     		ldr	r2, [r4]
  95:../Core/Src/usart.c ****   {
 338              		.loc 1 95 5 view .LVU85
 339 001c 1C4B     		ldr	r3, .L39
 340 001e 9A42     		cmp	r2, r3
 341 0020 01D0     		beq	.L37
 342              	.LVL18:
 343              	.L33:
 132:../Core/Src/usart.c **** 
 344              		.loc 1 132 1 view .LVU86
 345 0022 2CB0     		add	sp, sp, #176
 346              	.LCFI7:
 347              		.cfi_remember_state
 348              		.cfi_def_cfa_offset 8
 349              		@ sp needed
 350 0024 10BD     		pop	{r4, pc}
 351              	.LVL19:
 352              	.L37:
 353              	.LCFI8:
 354              		.cfi_restore_state
 103:../Core/Src/usart.c ****     PeriphClkInitStruct.Usart3ClockSelection = RCC_USART3CLKSOURCE_PCLK1;
 355              		.loc 1 103 5 is_stmt 1 view .LVU87
 103:../Core/Src/usart.c ****     PeriphClkInitStruct.Usart3ClockSelection = RCC_USART3CLKSOURCE_PCLK1;
 356              		.loc 1 103 46 is_stmt 0 view .LVU88
 357 0026 4FF48073 		mov	r3, #256
 358 002a 0393     		str	r3, [sp, #12]
 104:../Core/Src/usart.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInitStruct) != HAL_OK)
 359              		.loc 1 104 5 is_stmt 1 view .LVU89
 105:../Core/Src/usart.c ****     {
 360              		.loc 1 105 5 view .LVU90
 105:../Core/Src/usart.c ****     {
 361              		.loc 1 105 9 is_stmt 0 view .LVU91
 362 002c 03A8     		add	r0, sp, #12
 363 002e FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 364              	.LVL20:
 105:../Core/Src/usart.c ****     {
 365              		.loc 1 105 8 view .LVU92
 366 0032 50BB     		cbnz	r0, .L38
ARM GAS  /tmp/ccYTV3TF.s 			page 14


 367              	.L35:
 111:../Core/Src/usart.c **** 
 368              		.loc 1 111 5 is_stmt 1 view .LVU93
 369              	.LBB2:
 111:../Core/Src/usart.c **** 
 370              		.loc 1 111 5 view .LVU94
 111:../Core/Src/usart.c **** 
 371              		.loc 1 111 5 view .LVU95
 372 0034 174B     		ldr	r3, .L39+4
 373 0036 1A6C     		ldr	r2, [r3, #64]
 374 0038 42F48022 		orr	r2, r2, #262144
 375 003c 1A64     		str	r2, [r3, #64]
 111:../Core/Src/usart.c **** 
 376              		.loc 1 111 5 view .LVU96
 377 003e 1A6C     		ldr	r2, [r3, #64]
 378 0040 02F48022 		and	r2, r2, #262144
 379 0044 0192     		str	r2, [sp, #4]
 111:../Core/Src/usart.c **** 
 380              		.loc 1 111 5 view .LVU97
 381 0046 019A     		ldr	r2, [sp, #4]
 382              	.LBE2:
 111:../Core/Src/usart.c **** 
 383              		.loc 1 111 5 view .LVU98
 113:../Core/Src/usart.c ****     /**USART3 GPIO Configuration
 384              		.loc 1 113 5 view .LVU99
 385              	.LBB3:
 113:../Core/Src/usart.c ****     /**USART3 GPIO Configuration
 386              		.loc 1 113 5 view .LVU100
 113:../Core/Src/usart.c ****     /**USART3 GPIO Configuration
 387              		.loc 1 113 5 view .LVU101
 388 0048 1A6B     		ldr	r2, [r3, #48]
 389 004a 42F00802 		orr	r2, r2, #8
 390 004e 1A63     		str	r2, [r3, #48]
 113:../Core/Src/usart.c ****     /**USART3 GPIO Configuration
 391              		.loc 1 113 5 view .LVU102
 392 0050 1B6B     		ldr	r3, [r3, #48]
 393 0052 03F00803 		and	r3, r3, #8
 394 0056 0293     		str	r3, [sp, #8]
 113:../Core/Src/usart.c ****     /**USART3 GPIO Configuration
 395              		.loc 1 113 5 view .LVU103
 396 0058 029B     		ldr	r3, [sp, #8]
 397              	.LBE3:
 113:../Core/Src/usart.c ****     /**USART3 GPIO Configuration
 398              		.loc 1 113 5 view .LVU104
 118:../Core/Src/usart.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 399              		.loc 1 118 5 view .LVU105
 118:../Core/Src/usart.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 400              		.loc 1 118 25 is_stmt 0 view .LVU106
 401 005a 4FF44073 		mov	r3, #768
 402 005e 2793     		str	r3, [sp, #156]
 119:../Core/Src/usart.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 403              		.loc 1 119 5 is_stmt 1 view .LVU107
 119:../Core/Src/usart.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 404              		.loc 1 119 26 is_stmt 0 view .LVU108
 405 0060 0223     		movs	r3, #2
 406 0062 2893     		str	r3, [sp, #160]
 120:../Core/Src/usart.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
ARM GAS  /tmp/ccYTV3TF.s 			page 15


 407              		.loc 1 120 5 is_stmt 1 view .LVU109
 120:../Core/Src/usart.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 408              		.loc 1 120 26 is_stmt 0 view .LVU110
 409 0064 0024     		movs	r4, #0
 410              	.LVL21:
 120:../Core/Src/usart.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 411              		.loc 1 120 26 view .LVU111
 412 0066 2994     		str	r4, [sp, #164]
 121:../Core/Src/usart.c ****     GPIO_InitStruct.Alternate = GPIO_AF7_USART3;
 413              		.loc 1 121 5 is_stmt 1 view .LVU112
 121:../Core/Src/usart.c ****     GPIO_InitStruct.Alternate = GPIO_AF7_USART3;
 414              		.loc 1 121 27 is_stmt 0 view .LVU113
 415 0068 0323     		movs	r3, #3
 416 006a 2A93     		str	r3, [sp, #168]
 122:../Core/Src/usart.c ****     HAL_GPIO_Init(GPIOD, &GPIO_InitStruct);
 417              		.loc 1 122 5 is_stmt 1 view .LVU114
 122:../Core/Src/usart.c ****     HAL_GPIO_Init(GPIOD, &GPIO_InitStruct);
 418              		.loc 1 122 31 is_stmt 0 view .LVU115
 419 006c 0723     		movs	r3, #7
 420 006e 2B93     		str	r3, [sp, #172]
 123:../Core/Src/usart.c **** 
 421              		.loc 1 123 5 is_stmt 1 view .LVU116
 422 0070 27A9     		add	r1, sp, #156
 423 0072 0948     		ldr	r0, .L39+8
 424 0074 FFF7FEFF 		bl	HAL_GPIO_Init
 425              	.LVL22:
 126:../Core/Src/usart.c ****     HAL_NVIC_EnableIRQ(USART3_IRQn);
 426              		.loc 1 126 5 view .LVU117
 427 0078 2246     		mov	r2, r4
 428 007a 2146     		mov	r1, r4
 429 007c 2720     		movs	r0, #39
 430 007e FFF7FEFF 		bl	HAL_NVIC_SetPriority
 431              	.LVL23:
 127:../Core/Src/usart.c ****   /* USER CODE BEGIN USART3_MspInit 1 */
 432              		.loc 1 127 5 view .LVU118
 433 0082 2720     		movs	r0, #39
 434 0084 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 435              	.LVL24:
 132:../Core/Src/usart.c **** 
 436              		.loc 1 132 1 is_stmt 0 view .LVU119
 437 0088 CBE7     		b	.L33
 438              	.LVL25:
 439              	.L38:
 107:../Core/Src/usart.c ****     }
 440              		.loc 1 107 7 is_stmt 1 view .LVU120
 441 008a FFF7FEFF 		bl	Error_Handler
 442              	.LVL26:
 443 008e D1E7     		b	.L35
 444              	.L40:
 445              		.align	2
 446              	.L39:
 447 0090 00480040 		.word	1073760256
 448 0094 00380240 		.word	1073887232
 449 0098 000C0240 		.word	1073875968
 450              		.cfi_endproc
 451              	.LFE145:
 453              		.section	.text.HAL_UART_MspDeInit,"ax",%progbits
ARM GAS  /tmp/ccYTV3TF.s 			page 16


 454              		.align	1
 455              		.global	HAL_UART_MspDeInit
 456              		.syntax unified
 457              		.thumb
 458              		.thumb_func
 459              		.fpu fpv5-d16
 461              	HAL_UART_MspDeInit:
 462              	.LVL27:
 463              	.LFB146:
 135:../Core/Src/usart.c **** 
 464              		.loc 1 135 1 view -0
 465              		.cfi_startproc
 466              		@ args = 0, pretend = 0, frame = 0
 467              		@ frame_needed = 0, uses_anonymous_args = 0
 135:../Core/Src/usart.c **** 
 468              		.loc 1 135 1 is_stmt 0 view .LVU122
 469 0000 08B5     		push	{r3, lr}
 470              	.LCFI9:
 471              		.cfi_def_cfa_offset 8
 472              		.cfi_offset 3, -8
 473              		.cfi_offset 14, -4
 137:../Core/Src/usart.c ****   {
 474              		.loc 1 137 3 is_stmt 1 view .LVU123
 137:../Core/Src/usart.c ****   {
 475              		.loc 1 137 16 is_stmt 0 view .LVU124
 476 0002 0268     		ldr	r2, [r0]
 137:../Core/Src/usart.c ****   {
 477              		.loc 1 137 5 view .LVU125
 478 0004 084B     		ldr	r3, .L45
 479 0006 9A42     		cmp	r2, r3
 480 0008 00D0     		beq	.L44
 481              	.LVL28:
 482              	.L41:
 157:../Core/Src/usart.c **** 
 483              		.loc 1 157 1 view .LVU126
 484 000a 08BD     		pop	{r3, pc}
 485              	.LVL29:
 486              	.L44:
 143:../Core/Src/usart.c **** 
 487              		.loc 1 143 5 is_stmt 1 view .LVU127
 488 000c 074A     		ldr	r2, .L45+4
 489 000e 136C     		ldr	r3, [r2, #64]
 490 0010 23F48023 		bic	r3, r3, #262144
 491 0014 1364     		str	r3, [r2, #64]
 149:../Core/Src/usart.c **** 
 492              		.loc 1 149 5 view .LVU128
 493 0016 4FF44071 		mov	r1, #768
 494 001a 0548     		ldr	r0, .L45+8
 495              	.LVL30:
 149:../Core/Src/usart.c **** 
 496              		.loc 1 149 5 is_stmt 0 view .LVU129
 497 001c FFF7FEFF 		bl	HAL_GPIO_DeInit
 498              	.LVL31:
 152:../Core/Src/usart.c ****   /* USER CODE BEGIN USART3_MspDeInit 1 */
 499              		.loc 1 152 5 is_stmt 1 view .LVU130
 500 0020 2720     		movs	r0, #39
 501 0022 FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
ARM GAS  /tmp/ccYTV3TF.s 			page 17


 502              	.LVL32:
 157:../Core/Src/usart.c **** 
 503              		.loc 1 157 1 is_stmt 0 view .LVU131
 504 0026 F0E7     		b	.L41
 505              	.L46:
 506              		.align	2
 507              	.L45:
 508 0028 00480040 		.word	1073760256
 509 002c 00380240 		.word	1073887232
 510 0030 000C0240 		.word	1073875968
 511              		.cfi_endproc
 512              	.LFE146:
 514              		.section	.text.Rx_UART_init,"ax",%progbits
 515              		.align	1
 516              		.global	Rx_UART_init
 517              		.syntax unified
 518              		.thumb
 519              		.thumb_func
 520              		.fpu fpv5-d16
 522              	Rx_UART_init:
 523              	.LFB156:
 323:../Core/Src/usart.c **** 
 324:../Core/Src/usart.c **** // set the interrupt for UART3 Rx
 325:../Core/Src/usart.c **** void Rx_UART_init(void)
 326:../Core/Src/usart.c **** {
 524              		.loc 1 326 1 is_stmt 1 view -0
 525              		.cfi_startproc
 526              		@ args = 0, pretend = 0, frame = 0
 527              		@ frame_needed = 0, uses_anonymous_args = 0
 528 0000 08B5     		push	{r3, lr}
 529              	.LCFI10:
 530              		.cfi_def_cfa_offset 8
 531              		.cfi_offset 3, -8
 532              		.cfi_offset 14, -4
 327:../Core/Src/usart.c **** 	HAL_UART_Receive_IT(&huart3, (uint8_t*)&c, 1);
 533              		.loc 1 327 2 view .LVU133
 534 0002 0122     		movs	r2, #1
 535 0004 0249     		ldr	r1, .L49
 536 0006 0348     		ldr	r0, .L49+4
 537 0008 FFF7FEFF 		bl	HAL_UART_Receive_IT
 538              	.LVL33:
 328:../Core/Src/usart.c **** }
 539              		.loc 1 328 1 is_stmt 0 view .LVU134
 540 000c 08BD     		pop	{r3, pc}
 541              	.L50:
 542 000e 00BF     		.align	2
 543              	.L49:
 544 0010 00000000 		.word	.LANCHOR1
 545 0014 00000000 		.word	.LANCHOR4
 546              		.cfi_endproc
 547              	.LFE156:
 549              		.section	.text.UART_Receive,"ax",%progbits
 550              		.align	1
 551              		.global	UART_Receive
 552              		.syntax unified
 553              		.thumb
 554              		.thumb_func
ARM GAS  /tmp/ccYTV3TF.s 			page 18


 555              		.fpu fpv5-d16
 557              	UART_Receive:
 558              	.LFB147:
 165:../Core/Src/usart.c **** 	if(Rx_index == (RX_BUFF_LEN - 1)) // Is the buffer full?
 559              		.loc 1 165 1 is_stmt 1 view -0
 560              		.cfi_startproc
 561              		@ args = 0, pretend = 0, frame = 0
 562              		@ frame_needed = 0, uses_anonymous_args = 0
 563 0000 08B5     		push	{r3, lr}
 564              	.LCFI11:
 565              		.cfi_def_cfa_offset 8
 566              		.cfi_offset 3, -8
 567              		.cfi_offset 14, -4
 166:../Core/Src/usart.c **** 		// Treat as 'CR'
 568              		.loc 1 166 2 view .LVU136
 166:../Core/Src/usart.c **** 		// Treat as 'CR'
 569              		.loc 1 166 14 is_stmt 0 view .LVU137
 570 0002 0E4B     		ldr	r3, .L59
 571 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 572 0006 DBB2     		uxtb	r3, r3
 166:../Core/Src/usart.c **** 		// Treat as 'CR'
 573              		.loc 1 166 4 view .LVU138
 574 0008 0F2B     		cmp	r3, #15
 575 000a 0DD0     		beq	.L57
 576              	.L52:
 170:../Core/Src/usart.c **** 		Rx_UART_init(); // prepare for next character
 577              		.loc 1 170 2 is_stmt 1 view .LVU139
 170:../Core/Src/usart.c **** 		Rx_UART_init(); // prepare for next character
 578              		.loc 1 170 7 is_stmt 0 view .LVU140
 579 000c 0C4B     		ldr	r3, .L59+4
 580 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 581 0010 DBB2     		uxtb	r3, r3
 170:../Core/Src/usart.c **** 		Rx_UART_init(); // prepare for next character
 582              		.loc 1 170 4 view .LVU141
 583 0012 0D2B     		cmp	r3, #13
 584 0014 0CD1     		bne	.L58
 585              	.L53:
 173:../Core/Src/usart.c **** 		return (char)(-1);
 586              		.loc 1 173 2 is_stmt 1 view .LVU142
 173:../Core/Src/usart.c **** 		return (char)(-1);
 587              		.loc 1 173 5 is_stmt 0 view .LVU143
 588 0016 FFF7FEFF 		bl	process_as_control
 589              	.LVL34:
 173:../Core/Src/usart.c **** 		return (char)(-1);
 590              		.loc 1 173 4 view .LVU144
 591 001a 60B1     		cbz	r0, .L55
 177:../Core/Src/usart.c **** 	return c;
 592              		.loc 1 177 2 is_stmt 1 view .LVU145
 593 001c FFF7FEFF 		bl	process_as_data
 594              	.LVL35:
 178:../Core/Src/usart.c **** }
 595              		.loc 1 178 2 view .LVU146
 178:../Core/Src/usart.c **** }
 596              		.loc 1 178 9 is_stmt 0 view .LVU147
 597 0020 074B     		ldr	r3, .L59+4
 598 0022 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 599 0024 C0B2     		uxtb	r0, r0
ARM GAS  /tmp/ccYTV3TF.s 			page 19


 600              	.L54:
 179:../Core/Src/usart.c **** 
 601              		.loc 1 179 1 view .LVU148
 602 0026 08BD     		pop	{r3, pc}
 603              	.L57:
 168:../Core/Src/usart.c **** 	
 604              		.loc 1 168 3 is_stmt 1 view .LVU149
 168:../Core/Src/usart.c **** 	
 605              		.loc 1 168 5 is_stmt 0 view .LVU150
 606 0028 054B     		ldr	r3, .L59+4
 607 002a 0D22     		movs	r2, #13
 608 002c 1A70     		strb	r2, [r3]
 609 002e EDE7     		b	.L52
 610              	.L58:
 171:../Core/Src/usart.c **** 	
 611              		.loc 1 171 3 is_stmt 1 view .LVU151
 612 0030 FFF7FEFF 		bl	Rx_UART_init
 613              	.LVL36:
 614 0034 EFE7     		b	.L53
 615              	.L55:
 174:../Core/Src/usart.c **** 	
 616              		.loc 1 174 10 is_stmt 0 view .LVU152
 617 0036 FF20     		movs	r0, #255
 618 0038 F5E7     		b	.L54
 619              	.L60:
 620 003a 00BF     		.align	2
 621              	.L59:
 622 003c 00000000 		.word	.LANCHOR2
 623 0040 00000000 		.word	.LANCHOR1
 624              		.cfi_endproc
 625              	.LFE147:
 627              		.section	.text.HAL_UART_RxCpltCallback,"ax",%progbits
 628              		.align	1
 629              		.global	HAL_UART_RxCpltCallback
 630              		.syntax unified
 631              		.thumb
 632              		.thumb_func
 633              		.fpu fpv5-d16
 635              	HAL_UART_RxCpltCallback:
 636              	.LVL37:
 637              	.LFB157:
 329:../Core/Src/usart.c **** 
 330:../Core/Src/usart.c **** //implementation of UART ISR
 331:../Core/Src/usart.c **** void HAL_UART_RxCpltCallback(UART_HandleTypeDef* huart)
 332:../Core/Src/usart.c **** {
 638              		.loc 1 332 1 is_stmt 1 view -0
 639              		.cfi_startproc
 640              		@ args = 0, pretend = 0, frame = 0
 641              		@ frame_needed = 0, uses_anonymous_args = 0
 642              		@ link register save eliminated.
 333:../Core/Src/usart.c **** 	if (huart->Instance == USART3) //current UART?
 643              		.loc 1 333 2 view .LVU154
 644              		.loc 1 333 11 is_stmt 0 view .LVU155
 645 0000 0268     		ldr	r2, [r0]
 646              		.loc 1 333 5 view .LVU156
 647 0002 044B     		ldr	r3, .L64
 648 0004 9A42     		cmp	r2, r3
ARM GAS  /tmp/ccYTV3TF.s 			page 20


 649 0006 00D0     		beq	.L63
 650              	.L61:
 334:../Core/Src/usart.c **** 		Rx_flag = 1;
 335:../Core/Src/usart.c **** }
 651              		.loc 1 335 1 view .LVU157
 652 0008 7047     		bx	lr
 653              	.L63:
 334:../Core/Src/usart.c **** 		Rx_flag = 1;
 654              		.loc 1 334 3 is_stmt 1 view .LVU158
 334:../Core/Src/usart.c **** 		Rx_flag = 1;
 655              		.loc 1 334 11 is_stmt 0 view .LVU159
 656 000a 034B     		ldr	r3, .L64+4
 657 000c 0122     		movs	r2, #1
 658 000e 1A70     		strb	r2, [r3]
 659              		.loc 1 335 1 view .LVU160
 660 0010 FAE7     		b	.L61
 661              	.L65:
 662 0012 00BF     		.align	2
 663              	.L64:
 664 0014 00480040 		.word	1073760256
 665 0018 00000000 		.word	.LANCHOR5
 666              		.cfi_endproc
 667              	.LFE157:
 669              		.section	.text.UART_putchar,"ax",%progbits
 670              		.align	1
 671              		.global	UART_putchar
 672              		.syntax unified
 673              		.thumb
 674              		.thumb_func
 675              		.fpu fpv5-d16
 677              	UART_putchar:
 678              	.LFB158:
 336:../Core/Src/usart.c **** 
 337:../Core/Src/usart.c **** //implementation of UART ISR
 338:../Core/Src/usart.c **** //void HAL_UART_TxCpltCallback(UART_HandleTypeDef* huart)
 339:../Core/Src/usart.c **** //{
 340:../Core/Src/usart.c **** //	if (huart->Instance == USART3) //current UART?
 341:../Core/Src/usart.c **** //		Tx_flag = 1;
 342:../Core/Src/usart.c **** //}
 343:../Core/Src/usart.c **** 
 344:../Core/Src/usart.c **** /******************************************************************************
 345:../Core/Src/usart.c **** @brief	 	 Sends a char by UART - Polling (Waits for UART_Tx to transmitt 
 346:../Core/Src/usart.c **** 							queued data
 347:../Core/Src/usart.c **** @param  	 Char to be transmitted
 348:../Core/Src/usart.c **** ******************************************************************************/
 349:../Core/Src/usart.c **** void UART_putchar(char ch)
 350:../Core/Src/usart.c **** {
 679              		.loc 1 350 1 is_stmt 1 view -0
 680              		.cfi_startproc
 681              		@ args = 0, pretend = 0, frame = 0
 682              		@ frame_needed = 0, uses_anonymous_args = 0
 683              	.LVL38:
 684              		.loc 1 350 1 is_stmt 0 view .LVU162
 685 0000 08B5     		push	{r3, lr}
 686              	.LCFI12:
 687              		.cfi_def_cfa_offset 8
 688              		.cfi_offset 3, -8
ARM GAS  /tmp/ccYTV3TF.s 			page 21


 689              		.cfi_offset 14, -4
 690              	.L67:
 351:../Core/Src/usart.c **** 	while(huart3.gState == HAL_UART_STATE_BUSY_TX) // Waits for UART_Tx to transmitt queued data
 352:../Core/Src/usart.c **** 		;
 691              		.loc 1 352 3 is_stmt 1 discriminator 1 view .LVU163
 351:../Core/Src/usart.c **** 	while(huart3.gState == HAL_UART_STATE_BUSY_TX) // Waits for UART_Tx to transmitt queued data
 692              		.loc 1 351 7 discriminator 1 view .LVU164
 351:../Core/Src/usart.c **** 	while(huart3.gState == HAL_UART_STATE_BUSY_TX) // Waits for UART_Tx to transmitt queued data
 693              		.loc 1 351 14 is_stmt 0 discriminator 1 view .LVU165
 694 0002 054B     		ldr	r3, .L69
 695 0004 DB6F     		ldr	r3, [r3, #124]
 351:../Core/Src/usart.c **** 	while(huart3.gState == HAL_UART_STATE_BUSY_TX) // Waits for UART_Tx to transmitt queued data
 696              		.loc 1 351 7 discriminator 1 view .LVU166
 697 0006 212B     		cmp	r3, #33
 698 0008 FBD0     		beq	.L67
 353:../Core/Src/usart.c **** 	
 354:../Core/Src/usart.c **** 	c = ch; // 'ch' cannot be used to transmitt since its local to this function. Content may be lost
 699              		.loc 1 354 2 is_stmt 1 view .LVU167
 700              		.loc 1 354 4 is_stmt 0 view .LVU168
 701 000a 0449     		ldr	r1, .L69+4
 702 000c 0870     		strb	r0, [r1]
 355:../Core/Src/usart.c **** 	HAL_UART_Transmit_IT(&huart3, (uint8_t*)&c, 1);
 703              		.loc 1 355 2 is_stmt 1 view .LVU169
 704 000e 0122     		movs	r2, #1
 705 0010 0148     		ldr	r0, .L69
 706              	.LVL39:
 707              		.loc 1 355 2 is_stmt 0 view .LVU170
 708 0012 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 709              	.LVL40:
 356:../Core/Src/usart.c **** }
 710              		.loc 1 356 1 view .LVU171
 711 0016 08BD     		pop	{r3, pc}
 712              	.L70:
 713              		.align	2
 714              	.L69:
 715 0018 00000000 		.word	.LANCHOR4
 716 001c 00000000 		.word	.LANCHOR1
 717              		.cfi_endproc
 718              	.LFE158:
 720              		.section	.text.bcksp_key_cb,"ax",%progbits
 721              		.align	1
 722              		.syntax unified
 723              		.thumb
 724              		.thumb_func
 725              		.fpu fpv5-d16
 727              	bcksp_key_cb:
 728              	.LFB150:
 235:../Core/Src/usart.c **** 	if(Rx_index > 0) // Is there characters left to delete?
 729              		.loc 1 235 1 is_stmt 1 view -0
 730              		.cfi_startproc
 731              		@ args = 0, pretend = 0, frame = 0
 732              		@ frame_needed = 0, uses_anonymous_args = 0
 733 0000 08B5     		push	{r3, lr}
 734              	.LCFI13:
 735              		.cfi_def_cfa_offset 8
 736              		.cfi_offset 3, -8
 737              		.cfi_offset 14, -4
ARM GAS  /tmp/ccYTV3TF.s 			page 22


 236:../Core/Src/usart.c **** 		Rx_index--;
 738              		.loc 1 236 2 view .LVU173
 236:../Core/Src/usart.c **** 		Rx_index--;
 739              		.loc 1 236 14 is_stmt 0 view .LVU174
 740 0002 084B     		ldr	r3, .L75
 741 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 236:../Core/Src/usart.c **** 		Rx_index--;
 742              		.loc 1 236 4 view .LVU175
 743 0006 4BB1     		cbz	r3, .L72
 237:../Core/Src/usart.c **** 		// c is equal to BCKSP_KEY
 744              		.loc 1 237 3 is_stmt 1 view .LVU176
 237:../Core/Src/usart.c **** 		// c is equal to BCKSP_KEY
 745              		.loc 1 237 11 is_stmt 0 view .LVU177
 746 0008 064A     		ldr	r2, .L75
 747 000a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 748 000c 013B     		subs	r3, r3, #1
 749 000e DBB2     		uxtb	r3, r3
 750 0010 1370     		strb	r3, [r2]
 751              	.L73:
 242:../Core/Src/usart.c **** }
 752              		.loc 1 242 2 is_stmt 1 view .LVU178
 753 0012 054B     		ldr	r3, .L75+4
 754 0014 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 755 0016 FFF7FEFF 		bl	UART_putchar
 756              	.LVL41:
 243:../Core/Src/usart.c **** 
 757              		.loc 1 243 1 is_stmt 0 view .LVU179
 758 001a 08BD     		pop	{r3, pc}
 759              	.L72:
 241:../Core/Src/usart.c **** 	UART_putchar(c);
 760              		.loc 1 241 3 is_stmt 1 view .LVU180
 241:../Core/Src/usart.c **** 	UART_putchar(c);
 761              		.loc 1 241 5 is_stmt 0 view .LVU181
 762 001c 024B     		ldr	r3, .L75+4
 763 001e 0022     		movs	r2, #0
 764 0020 1A70     		strb	r2, [r3]
 765 0022 F6E7     		b	.L73
 766              	.L76:
 767              		.align	2
 768              	.L75:
 769 0024 00000000 		.word	.LANCHOR2
 770 0028 00000000 		.word	.LANCHOR1
 771              		.cfi_endproc
 772              	.LFE150:
 774              		.section	.text.UART_puts,"ax",%progbits
 775              		.align	1
 776              		.global	UART_puts
 777              		.syntax unified
 778              		.thumb
 779              		.thumb_func
 780              		.fpu fpv5-d16
 782              	UART_puts:
 783              	.LVL42:
 784              	.LFB159:
 357:../Core/Src/usart.c **** 
 358:../Core/Src/usart.c **** /******************************************************************************
 359:../Core/Src/usart.c **** @brief	 	 Sends a string by UART - Polling (Waits for UART_Tx to transmitt 
ARM GAS  /tmp/ccYTV3TF.s 			page 23


 360:../Core/Src/usart.c **** 							queued data
 361:../Core/Src/usart.c **** @param  	 String to be transmitted
 362:../Core/Src/usart.c **** ******************************************************************************/
 363:../Core/Src/usart.c **** void UART_puts(const char *s)
 364:../Core/Src/usart.c **** {
 785              		.loc 1 364 1 is_stmt 1 view -0
 786              		.cfi_startproc
 787              		@ args = 0, pretend = 0, frame = 0
 788              		@ frame_needed = 0, uses_anonymous_args = 0
 365:../Core/Src/usart.c **** 	if((s == NULL) || (s[0] == 0))	// string empty?
 789              		.loc 1 365 2 view .LVU183
 790              		.loc 1 365 4 is_stmt 0 view .LVU184
 791 0000 C0B1     		cbz	r0, .L81
 364:../Core/Src/usart.c **** 	if((s == NULL) || (s[0] == 0))	// string empty?
 792              		.loc 1 364 1 discriminator 1 view .LVU185
 793 0002 70B5     		push	{r4, r5, r6, lr}
 794              	.LCFI14:
 795              		.cfi_def_cfa_offset 16
 796              		.cfi_offset 4, -16
 797              		.cfi_offset 5, -12
 798              		.cfi_offset 6, -8
 799              		.cfi_offset 14, -4
 800 0004 0446     		mov	r4, r0
 801              		.loc 1 365 22 discriminator 1 view .LVU186
 802 0006 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 803              		.loc 1 365 17 discriminator 1 view .LVU187
 804 0008 9BB1     		cbz	r3, .L77
 366:../Core/Src/usart.c **** 		return;
 367:../Core/Src/usart.c **** 	
 368:../Core/Src/usart.c **** 	int len = strlen(s);
 805              		.loc 1 368 2 is_stmt 1 view .LVU188
 806              		.loc 1 368 12 is_stmt 0 view .LVU189
 807 000a FFF7FEFF 		bl	strlen
 808              	.LVL43:
 809              		.loc 1 368 12 view .LVU190
 810 000e 0546     		mov	r5, r0
 811              	.LVL44:
 369:../Core/Src/usart.c **** 	if(len > TX_BUFF_LEN)		// string size bigger than the max size of Tx_Buffer?
 812              		.loc 1 369 2 is_stmt 1 view .LVU191
 813              		.loc 1 369 4 is_stmt 0 view .LVU192
 814 0010 B0F5807F 		cmp	r0, #256
 815 0014 0DDC     		bgt	.L77
 816              	.L79:
 370:../Core/Src/usart.c **** 		return;
 371:../Core/Src/usart.c **** 
 372:../Core/Src/usart.c **** 	while(huart3.gState == HAL_UART_STATE_BUSY_TX) // Waits for UART_Tx to transmitt queued data
 373:../Core/Src/usart.c **** 		;
 817              		.loc 1 373 3 is_stmt 1 discriminator 1 view .LVU193
 372:../Core/Src/usart.c **** 		;
 818              		.loc 1 372 7 discriminator 1 view .LVU194
 372:../Core/Src/usart.c **** 		;
 819              		.loc 1 372 14 is_stmt 0 discriminator 1 view .LVU195
 820 0016 084B     		ldr	r3, .L84
 821 0018 DB6F     		ldr	r3, [r3, #124]
 372:../Core/Src/usart.c **** 		;
 822              		.loc 1 372 7 discriminator 1 view .LVU196
 823 001a 212B     		cmp	r3, #33
ARM GAS  /tmp/ccYTV3TF.s 			page 24


 824 001c FBD0     		beq	.L79
 374:../Core/Src/usart.c **** 	
 375:../Core/Src/usart.c **** 	strcpy(Tx_Buffer, s);	// send string 'str' to 'TX_Buffer'
 825              		.loc 1 375 2 is_stmt 1 view .LVU197
 826 001e 074E     		ldr	r6, .L84+4
 827 0020 2146     		mov	r1, r4
 828 0022 3046     		mov	r0, r6
 829              	.LVL45:
 830              		.loc 1 375 2 is_stmt 0 view .LVU198
 831 0024 FFF7FEFF 		bl	strcpy
 832              	.LVL46:
 376:../Core/Src/usart.c **** 	HAL_UART_Transmit_IT(&huart3, (uint8_t*)Tx_Buffer, len);
 833              		.loc 1 376 2 is_stmt 1 view .LVU199
 834 0028 AAB2     		uxth	r2, r5
 835 002a 3146     		mov	r1, r6
 836 002c 0248     		ldr	r0, .L84
 837 002e FFF7FEFF 		bl	HAL_UART_Transmit_IT
 838              	.LVL47:
 839              	.L77:
 377:../Core/Src/usart.c **** }
 840              		.loc 1 377 1 is_stmt 0 view .LVU200
 841 0032 70BD     		pop	{r4, r5, r6, pc}
 842              	.LVL48:
 843              	.L81:
 844              	.LCFI15:
 845              		.cfi_def_cfa_offset 0
 846              		.cfi_restore 4
 847              		.cfi_restore 5
 848              		.cfi_restore 6
 849              		.cfi_restore 14
 850              		.loc 1 377 1 view .LVU201
 851 0034 7047     		bx	lr
 852              	.L85:
 853 0036 00BF     		.align	2
 854              	.L84:
 855 0038 00000000 		.word	.LANCHOR4
 856 003c 00000000 		.word	.LANCHOR6
 857              		.cfi_endproc
 858              	.LFE159:
 860              		.section	.text.clear_last_cmd,"ax",%progbits
 861              		.align	1
 862              		.syntax unified
 863              		.thumb
 864              		.thumb_func
 865              		.fpu fpv5-d16
 867              	clear_last_cmd:
 868              	.LFB154:
 294:../Core/Src/usart.c **** 	if(Rx_index == 0) // empty buffer
 869              		.loc 1 294 1 is_stmt 1 view -0
 870              		.cfi_startproc
 871              		@ args = 0, pretend = 0, frame = 0
 872              		@ frame_needed = 0, uses_anonymous_args = 0
 873 0000 38B5     		push	{r3, r4, r5, lr}
 874              	.LCFI16:
 875              		.cfi_def_cfa_offset 16
 876              		.cfi_offset 3, -16
 877              		.cfi_offset 4, -12
ARM GAS  /tmp/ccYTV3TF.s 			page 25


 878              		.cfi_offset 5, -8
 879              		.cfi_offset 14, -4
 295:../Core/Src/usart.c **** 		return;
 880              		.loc 1 295 2 view .LVU203
 295:../Core/Src/usart.c **** 		return;
 881              		.loc 1 295 14 is_stmt 0 view .LVU204
 882 0002 0A4B     		ldr	r3, .L90
 883 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 295:../Core/Src/usart.c **** 		return;
 884              		.loc 1 295 4 view .LVU205
 885 0006 03B9     		cbnz	r3, .L89
 886              	.L86:
 304:../Core/Src/usart.c **** 
 887              		.loc 1 304 1 view .LVU206
 888 0008 38BD     		pop	{r3, r4, r5, pc}
 889              	.L89:
 299:../Core/Src/usart.c **** 	Rx_Buffer[Rx_index] = 0; 	// mark end of string
 890              		.loc 1 299 2 is_stmt 1 view .LVU207
 891 000a 084D     		ldr	r5, .L90
 892 000c 2A78     		ldrb	r2, [r5]	@ zero_extendqisi2
 893 000e 084C     		ldr	r4, .L90+4
 894 0010 7F21     		movs	r1, #127
 895 0012 2046     		mov	r0, r4
 896 0014 FFF7FEFF 		bl	memset
 897              	.LVL49:
 300:../Core/Src/usart.c **** 	Rx_index = 0;
 898              		.loc 1 300 2 view .LVU208
 300:../Core/Src/usart.c **** 	Rx_index = 0;
 899              		.loc 1 300 11 is_stmt 0 view .LVU209
 900 0018 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 901 001a DBB2     		uxtb	r3, r3
 300:../Core/Src/usart.c **** 	Rx_index = 0;
 902              		.loc 1 300 22 view .LVU210
 903 001c 0022     		movs	r2, #0
 904 001e E254     		strb	r2, [r4, r3]
 301:../Core/Src/usart.c **** 	
 905              		.loc 1 301 2 is_stmt 1 view .LVU211
 301:../Core/Src/usart.c **** 	
 906              		.loc 1 301 11 is_stmt 0 view .LVU212
 907 0020 2A70     		strb	r2, [r5]
 303:../Core/Src/usart.c **** }
 908              		.loc 1 303 2 is_stmt 1 view .LVU213
 909 0022 2046     		mov	r0, r4
 910 0024 FFF7FEFF 		bl	UART_puts
 911              	.LVL50:
 912 0028 EEE7     		b	.L86
 913              	.L91:
 914 002a 00BF     		.align	2
 915              	.L90:
 916 002c 00000000 		.word	.LANCHOR2
 917 0030 00000000 		.word	.LANCHOR3
 918              		.cfi_endproc
 919              	.LFE154:
 921              		.section	.text.esc_key_cb,"ax",%progbits
 922              		.align	1
 923              		.syntax unified
 924              		.thumb
ARM GAS  /tmp/ccYTV3TF.s 			page 26


 925              		.thumb_func
 926              		.fpu fpv5-d16
 928              	esc_key_cb:
 929              	.LFB151:
 246:../Core/Src/usart.c **** 	clear_last_cmd();
 930              		.loc 1 246 1 view -0
 931              		.cfi_startproc
 932              		@ args = 0, pretend = 0, frame = 0
 933              		@ frame_needed = 0, uses_anonymous_args = 0
 934 0000 08B5     		push	{r3, lr}
 935              	.LCFI17:
 936              		.cfi_def_cfa_offset 8
 937              		.cfi_offset 3, -8
 938              		.cfi_offset 14, -4
 247:../Core/Src/usart.c **** }
 939              		.loc 1 247 2 view .LVU215
 940 0002 FFF7FEFF 		bl	clear_last_cmd
 941              	.LVL51:
 248:../Core/Src/usart.c **** 
 942              		.loc 1 248 1 is_stmt 0 view .LVU216
 943 0006 08BD     		pop	{r3, pc}
 944              		.cfi_endproc
 945              	.LFE151:
 947              		.section	.text.dollar_key_cb,"ax",%progbits
 948              		.align	1
 949              		.syntax unified
 950              		.thumb
 951              		.thumb_func
 952              		.fpu fpv5-d16
 954              	dollar_key_cb:
 955              	.LFB152:
 251:../Core/Src/usart.c **** 	clear_last_cmd();
 956              		.loc 1 251 1 is_stmt 1 view -0
 957              		.cfi_startproc
 958              		@ args = 0, pretend = 0, frame = 0
 959              		@ frame_needed = 0, uses_anonymous_args = 0
 960 0000 10B5     		push	{r4, lr}
 961              	.LCFI18:
 962              		.cfi_def_cfa_offset 8
 963              		.cfi_offset 4, -8
 964              		.cfi_offset 14, -4
 252:../Core/Src/usart.c **** 	UART_puts(last_valid_cmd); // print last valid command
 965              		.loc 1 252 2 view .LVU218
 966 0002 FFF7FEFF 		bl	clear_last_cmd
 967              	.LVL52:
 253:../Core/Src/usart.c **** 	insert_cmd(last_valid_cmd); // fill Rx_Buffer with last valid command
 968              		.loc 1 253 2 view .LVU219
 969 0006 044C     		ldr	r4, .L96
 970 0008 2046     		mov	r0, r4
 971 000a FFF7FEFF 		bl	UART_puts
 972              	.LVL53:
 254:../Core/Src/usart.c **** }
 973              		.loc 1 254 2 view .LVU220
 974 000e 2046     		mov	r0, r4
 975 0010 FFF7FEFF 		bl	insert_cmd
 976              	.LVL54:
 255:../Core/Src/usart.c **** 
ARM GAS  /tmp/ccYTV3TF.s 			page 27


 977              		.loc 1 255 1 is_stmt 0 view .LVU221
 978 0014 10BD     		pop	{r4, pc}
 979              	.L97:
 980 0016 00BF     		.align	2
 981              	.L96:
 982 0018 00000000 		.word	last_valid_cmd
 983              		.cfi_endproc
 984              	.LFE152:
 986              		.section	.rodata.enter_key_cb.str1.4,"aMS",%progbits,1
 987              		.align	2
 988              	.LC0:
 989 0000 0A0D00   		.ascii	"\012\015\000"
 990              		.section	.text.enter_key_cb,"ax",%progbits
 991              		.align	1
 992              		.syntax unified
 993              		.thumb
 994              		.thumb_func
 995              		.fpu fpv5-d16
 997              	enter_key_cb:
 998              	.LFB149:
 227:../Core/Src/usart.c **** 	UART_puts("\n\r");
 999              		.loc 1 227 1 is_stmt 1 view -0
 1000              		.cfi_startproc
 1001              		@ args = 0, pretend = 0, frame = 0
 1002              		@ frame_needed = 0, uses_anonymous_args = 0
 1003 0000 08B5     		push	{r3, lr}
 1004              	.LCFI19:
 1005              		.cfi_def_cfa_offset 8
 1006              		.cfi_offset 3, -8
 1007              		.cfi_offset 14, -4
 228:../Core/Src/usart.c **** 	Rx_Buffer[Rx_index] = 0;	// mark end of string
 1008              		.loc 1 228 2 view .LVU223
 1009 0002 0748     		ldr	r0, .L100
 1010 0004 FFF7FEFF 		bl	UART_puts
 1011              	.LVL55:
 229:../Core/Src/usart.c **** 	Rx_index = 0;
 1012              		.loc 1 229 2 view .LVU224
 229:../Core/Src/usart.c **** 	Rx_index = 0;
 1013              		.loc 1 229 11 is_stmt 0 view .LVU225
 1014 0008 064A     		ldr	r2, .L100+4
 1015 000a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1016 000c DBB2     		uxtb	r3, r3
 229:../Core/Src/usart.c **** 	Rx_index = 0;
 1017              		.loc 1 229 22 view .LVU226
 1018 000e 0021     		movs	r1, #0
 1019 0010 0548     		ldr	r0, .L100+8
 1020 0012 C154     		strb	r1, [r0, r3]
 230:../Core/Src/usart.c **** 	cmd_received = 1;					// informs main a command was received
 1021              		.loc 1 230 2 is_stmt 1 view .LVU227
 230:../Core/Src/usart.c **** 	cmd_received = 1;					// informs main a command was received
 1022              		.loc 1 230 11 is_stmt 0 view .LVU228
 1023 0014 1170     		strb	r1, [r2]
 231:../Core/Src/usart.c **** }
 1024              		.loc 1 231 2 is_stmt 1 view .LVU229
 231:../Core/Src/usart.c **** }
 1025              		.loc 1 231 15 is_stmt 0 view .LVU230
 1026 0016 054B     		ldr	r3, .L100+12
ARM GAS  /tmp/ccYTV3TF.s 			page 28


 1027 0018 0122     		movs	r2, #1
 1028 001a 1A70     		strb	r2, [r3]
 232:../Core/Src/usart.c **** 
 1029              		.loc 1 232 1 view .LVU231
 1030 001c 08BD     		pop	{r3, pc}
 1031              	.L101:
 1032 001e 00BF     		.align	2
 1033              	.L100:
 1034 0020 00000000 		.word	.LC0
 1035 0024 00000000 		.word	.LANCHOR2
 1036 0028 00000000 		.word	.LANCHOR3
 1037 002c 00000000 		.word	.LANCHOR7
 1038              		.cfi_endproc
 1039              	.LFE149:
 1041              		.global	s_key_list
 1042              		.global	huart3
 1043              		.global	c
 1044              		.global	cmd_received
 1045              		.global	Rx_flag
 1046              		.global	Rx_index
 1047              		.global	Tx_Buffer
 1048              		.global	Rx_Buffer
 1049              		.section	.bss.Rx_Buffer,"aw",%nobits
 1050              		.align	2
 1051              		.set	.LANCHOR3,. + 0
 1054              	Rx_Buffer:
 1055 0000 00000000 		.space	16
 1055      00000000 
 1055      00000000 
 1055      00000000 
 1056              		.section	.bss.Rx_flag,"aw",%nobits
 1057              		.set	.LANCHOR5,. + 0
 1060              	Rx_flag:
 1061 0000 00       		.space	1
 1062              		.section	.bss.Rx_index,"aw",%nobits
 1063              		.set	.LANCHOR2,. + 0
 1066              	Rx_index:
 1067 0000 00       		.space	1
 1068              		.section	.bss.Tx_Buffer,"aw",%nobits
 1069              		.align	2
 1070              		.set	.LANCHOR6,. + 0
 1073              	Tx_Buffer:
 1074 0000 00000000 		.space	256
 1074      00000000 
 1074      00000000 
 1074      00000000 
 1074      00000000 
 1075              		.section	.bss.c,"aw",%nobits
 1076              		.set	.LANCHOR1,. + 0
 1079              	c:
 1080 0000 00       		.space	1
 1081              		.section	.bss.cmd_received,"aw",%nobits
 1082              		.set	.LANCHOR7,. + 0
 1085              	cmd_received:
 1086 0000 00       		.space	1
 1087              		.section	.bss.huart3,"aw",%nobits
 1088              		.align	2
ARM GAS  /tmp/ccYTV3TF.s 			page 29


 1089              		.set	.LANCHOR4,. + 0
 1092              	huart3:
 1093 0000 00000000 		.space	136
 1093      00000000 
 1093      00000000 
 1093      00000000 
 1093      00000000 
 1094              		.section	.rodata.s_key_list,"a"
 1095              		.align	2
 1096              		.set	.LANCHOR0,. + 0
 1099              	s_key_list:
 1100 0000 0D       		.byte	13
 1101 0001 000000   		.space	3
 1102 0004 00000000 		.word	enter_key_cb
 1103 0008 7F       		.byte	127
 1104 0009 000000   		.space	3
 1105 000c 00000000 		.word	bcksp_key_cb
 1106 0010 1B       		.byte	27
 1107 0011 000000   		.space	3
 1108 0014 00000000 		.word	esc_key_cb
 1109 0018 24       		.byte	36
 1110 0019 000000   		.space	3
 1111 001c 00000000 		.word	dollar_key_cb
 1112 0020 00       		.byte	0
 1113 0021 000000   		.space	3
 1114 0024 00000000 		.word	0
 1115              		.text
 1116              	.Letext0:
 1117              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 1118              		.file 3 "../Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f767xx.h"
 1119              		.file 4 "../Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_def.h"
 1120              		.file 5 "../Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_rcc_ex.h"
 1121              		.file 6 "../Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_gpio.h"
 1122              		.file 7 "../Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_dma.h"
 1123              		.file 8 "../Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_uart.h"
 1124              		.file 9 "../Core/Inc/main.h"
 1125              		.file 10 "../Core/Inc/usart.h"
 1126              		.file 11 "/usr/include/newlib/string.h"
 1127              		.file 12 "../Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_cortex.h"
 1128              		.file 13 "<built-in>"
ARM GAS  /tmp/ccYTV3TF.s 			page 30


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usart.c
     /tmp/ccYTV3TF.s:17     .text.process_as_control:0000000000000000 $t
     /tmp/ccYTV3TF.s:24     .text.process_as_control:0000000000000000 process_as_control
     /tmp/ccYTV3TF.s:96     .text.process_as_control:000000000000002c $d
     /tmp/ccYTV3TF.s:102    .text.process_as_data:0000000000000000 $t
     /tmp/ccYTV3TF.s:108    .text.process_as_data:0000000000000000 process_as_data
     /tmp/ccYTV3TF.s:136    .text.process_as_data:0000000000000018 $d
     /tmp/ccYTV3TF.s:143    .text.insert_cmd:0000000000000000 $t
     /tmp/ccYTV3TF.s:149    .text.insert_cmd:0000000000000000 insert_cmd
     /tmp/ccYTV3TF.s:212    .text.insert_cmd:000000000000002c $d
     /tmp/ccYTV3TF.s:218    .text.MX_USART3_UART_Init:0000000000000000 $t
     /tmp/ccYTV3TF.s:225    .text.MX_USART3_UART_Init:0000000000000000 MX_USART3_UART_Init
     /tmp/ccYTV3TF.s:289    .text.MX_USART3_UART_Init:0000000000000030 $d
     /tmp/ccYTV3TF.s:295    .text.HAL_UART_MspInit:0000000000000000 $t
     /tmp/ccYTV3TF.s:302    .text.HAL_UART_MspInit:0000000000000000 HAL_UART_MspInit
     /tmp/ccYTV3TF.s:447    .text.HAL_UART_MspInit:0000000000000090 $d
     /tmp/ccYTV3TF.s:454    .text.HAL_UART_MspDeInit:0000000000000000 $t
     /tmp/ccYTV3TF.s:461    .text.HAL_UART_MspDeInit:0000000000000000 HAL_UART_MspDeInit
     /tmp/ccYTV3TF.s:508    .text.HAL_UART_MspDeInit:0000000000000028 $d
     /tmp/ccYTV3TF.s:515    .text.Rx_UART_init:0000000000000000 $t
     /tmp/ccYTV3TF.s:522    .text.Rx_UART_init:0000000000000000 Rx_UART_init
     /tmp/ccYTV3TF.s:544    .text.Rx_UART_init:0000000000000010 $d
     /tmp/ccYTV3TF.s:550    .text.UART_Receive:0000000000000000 $t
     /tmp/ccYTV3TF.s:557    .text.UART_Receive:0000000000000000 UART_Receive
     /tmp/ccYTV3TF.s:622    .text.UART_Receive:000000000000003c $d
     /tmp/ccYTV3TF.s:628    .text.HAL_UART_RxCpltCallback:0000000000000000 $t
     /tmp/ccYTV3TF.s:635    .text.HAL_UART_RxCpltCallback:0000000000000000 HAL_UART_RxCpltCallback
     /tmp/ccYTV3TF.s:664    .text.HAL_UART_RxCpltCallback:0000000000000014 $d
     /tmp/ccYTV3TF.s:670    .text.UART_putchar:0000000000000000 $t
     /tmp/ccYTV3TF.s:677    .text.UART_putchar:0000000000000000 UART_putchar
     /tmp/ccYTV3TF.s:715    .text.UART_putchar:0000000000000018 $d
     /tmp/ccYTV3TF.s:721    .text.bcksp_key_cb:0000000000000000 $t
     /tmp/ccYTV3TF.s:727    .text.bcksp_key_cb:0000000000000000 bcksp_key_cb
     /tmp/ccYTV3TF.s:769    .text.bcksp_key_cb:0000000000000024 $d
     /tmp/ccYTV3TF.s:775    .text.UART_puts:0000000000000000 $t
     /tmp/ccYTV3TF.s:782    .text.UART_puts:0000000000000000 UART_puts
     /tmp/ccYTV3TF.s:855    .text.UART_puts:0000000000000038 $d
     /tmp/ccYTV3TF.s:861    .text.clear_last_cmd:0000000000000000 $t
     /tmp/ccYTV3TF.s:867    .text.clear_last_cmd:0000000000000000 clear_last_cmd
     /tmp/ccYTV3TF.s:916    .text.clear_last_cmd:000000000000002c $d
     /tmp/ccYTV3TF.s:922    .text.esc_key_cb:0000000000000000 $t
     /tmp/ccYTV3TF.s:928    .text.esc_key_cb:0000000000000000 esc_key_cb
     /tmp/ccYTV3TF.s:948    .text.dollar_key_cb:0000000000000000 $t
     /tmp/ccYTV3TF.s:954    .text.dollar_key_cb:0000000000000000 dollar_key_cb
     /tmp/ccYTV3TF.s:982    .text.dollar_key_cb:0000000000000018 $d
     /tmp/ccYTV3TF.s:987    .rodata.enter_key_cb.str1.4:0000000000000000 $d
     /tmp/ccYTV3TF.s:991    .text.enter_key_cb:0000000000000000 $t
     /tmp/ccYTV3TF.s:997    .text.enter_key_cb:0000000000000000 enter_key_cb
     /tmp/ccYTV3TF.s:1034   .text.enter_key_cb:0000000000000020 $d
     /tmp/ccYTV3TF.s:1099   .rodata.s_key_list:0000000000000000 s_key_list
     /tmp/ccYTV3TF.s:1092   .bss.huart3:0000000000000000 huart3
     /tmp/ccYTV3TF.s:1079   .bss.c:0000000000000000 c
     /tmp/ccYTV3TF.s:1085   .bss.cmd_received:0000000000000000 cmd_received
     /tmp/ccYTV3TF.s:1060   .bss.Rx_flag:0000000000000000 Rx_flag
     /tmp/ccYTV3TF.s:1066   .bss.Rx_index:0000000000000000 Rx_index
     /tmp/ccYTV3TF.s:1073   .bss.Tx_Buffer:0000000000000000 Tx_Buffer
ARM GAS  /tmp/ccYTV3TF.s 			page 31


     /tmp/ccYTV3TF.s:1054   .bss.Rx_Buffer:0000000000000000 Rx_Buffer
     /tmp/ccYTV3TF.s:1050   .bss.Rx_Buffer:0000000000000000 $d
     /tmp/ccYTV3TF.s:1061   .bss.Rx_flag:0000000000000000 $d
     /tmp/ccYTV3TF.s:1067   .bss.Rx_index:0000000000000000 $d
     /tmp/ccYTV3TF.s:1069   .bss.Tx_Buffer:0000000000000000 $d
     /tmp/ccYTV3TF.s:1080   .bss.c:0000000000000000 $d
     /tmp/ccYTV3TF.s:1086   .bss.cmd_received:0000000000000000 $d
     /tmp/ccYTV3TF.s:1088   .bss.huart3:0000000000000000 $d
     /tmp/ccYTV3TF.s:1095   .rodata.s_key_list:0000000000000000 $d

UNDEFINED SYMBOLS
strlen
strcpy
HAL_UART_Init
Error_Handler
memset
HAL_RCCEx_PeriphCLKConfig
HAL_GPIO_Init
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_GPIO_DeInit
HAL_NVIC_DisableIRQ
HAL_UART_Receive_IT
HAL_UART_Transmit_IT
last_valid_cmd
