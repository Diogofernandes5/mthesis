ARM GAS  /tmp/cciymMYK.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"signals.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.wavegen_init,"ax",%progbits
  17              		.align	1
  18              		.global	wavegen_init
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	wavegen_init:
  26              	.LFB141:
  27              		.file 1 "../Core/Src/signals.c"
   1:../Core/Src/signals.c **** /*
   2:../Core/Src/signals.c ****  * signals.c
   3:../Core/Src/signals.c ****  *
   4:../Core/Src/signals.c ****  *  Created on: 9 Mar 2021
   5:../Core/Src/signals.c ****  *      Author: mrgomes
   6:../Core/Src/signals.c ****  */
   7:../Core/Src/signals.c **** 
   8:../Core/Src/signals.c **** /* Includes ------------------------------------------------------------------*/
   9:../Core/Src/signals.c **** #include <math.h>
  10:../Core/Src/signals.c **** 
  11:../Core/Src/signals.c **** /* Private includes ----------------------------------------------------------*/
  12:../Core/Src/signals.c **** #include "stm32f7xx_hal.h"
  13:../Core/Src/signals.c **** #include "dac.h"
  14:../Core/Src/signals.c **** #include "tim.h"
  15:../Core/Src/signals.c **** 
  16:../Core/Src/signals.c **** #include "signals.h"
  17:../Core/Src/signals.c **** 
  18:../Core/Src/signals.c **** /* Private variables ---------------------------------------------------------*/
  19:../Core/Src/signals.c **** uint32_t signal_buff[100] = {0};
  20:../Core/Src/signals.c **** 
  21:../Core/Src/signals.c **** /* Private Defines ---------------------------------------------------------*/
  22:../Core/Src/signals.c **** #define PI 3.1415926
  23:../Core/Src/signals.c **** 
  24:../Core/Src/signals.c **** /* Private Functions ---------------------------------------------------------*/
  25:../Core/Src/signals.c **** 
  26:../Core/Src/signals.c **** /**
  27:../Core/Src/signals.c ****   * @brief  Inits Timer and DAC Peripherals
  28:../Core/Src/signals.c ****   * @param	none
  29:../Core/Src/signals.c ****   * @retval HAL_StatusTypeDef
  30:../Core/Src/signals.c ****   */
  31:../Core/Src/signals.c **** HAL_StatusTypeDef wavegen_init(void){
ARM GAS  /tmp/cciymMYK.s 			page 2


  28              		.loc 1 31 37 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 08B5     		push	{r3, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 3, -8
  36              		.cfi_offset 14, -4
  32:../Core/Src/signals.c **** 
  33:../Core/Src/signals.c **** 	MX_DAC_Init();
  37              		.loc 1 33 2 view .LVU1
  38 0002 FFF7FEFF 		bl	MX_DAC_Init
  39              	.LVL0:
  34:../Core/Src/signals.c **** 	MX_TIM2_Init();
  40              		.loc 1 34 2 view .LVU2
  41 0006 FFF7FEFF 		bl	MX_TIM2_Init
  42              	.LVL1:
  35:../Core/Src/signals.c **** 	HAL_TIM_Base_Start(&htim2);
  43              		.loc 1 35 2 view .LVU3
  44 000a 0248     		ldr	r0, .L3
  45 000c FFF7FEFF 		bl	HAL_TIM_Base_Start
  46              	.LVL2:
  36:../Core/Src/signals.c **** 
  37:../Core/Src/signals.c **** 	return HAL_OK;
  47              		.loc 1 37 2 view .LVU4
  38:../Core/Src/signals.c **** }
  48              		.loc 1 38 1 is_stmt 0 view .LVU5
  49 0010 0020     		movs	r0, #0
  50 0012 08BD     		pop	{r3, pc}
  51              	.L4:
  52              		.align	2
  53              	.L3:
  54 0014 00000000 		.word	htim2
  55              		.cfi_endproc
  56              	.LFE141:
  58              		.section	.text.wavegen_start,"ax",%progbits
  59              		.align	1
  60              		.global	wavegen_start
  61              		.syntax unified
  62              		.thumb
  63              		.thumb_func
  64              		.fpu fpv5-d16
  66              	wavegen_start:
  67              	.LFB142:
  39:../Core/Src/signals.c **** 
  40:../Core/Src/signals.c **** /**
  41:../Core/Src/signals.c ****   * @brief  Starts DAC CHANNEL 2 with DMA
  42:../Core/Src/signals.c ****   * The DAC update is triggered by Timer 2 overflow
  43:../Core/Src/signals.c ****   * @param	none
  44:../Core/Src/signals.c ****   * @retval HAL_StatusTypeDef
  45:../Core/Src/signals.c ****   */
  46:../Core/Src/signals.c **** HAL_StatusTypeDef wavegen_start(void){
  68              		.loc 1 46 38 is_stmt 1 view -0
  69              		.cfi_startproc
  70              		@ args = 0, pretend = 0, frame = 0
  71              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cciymMYK.s 			page 3


  72 0000 00B5     		push	{lr}
  73              	.LCFI1:
  74              		.cfi_def_cfa_offset 4
  75              		.cfi_offset 14, -4
  76 0002 83B0     		sub	sp, sp, #12
  77              	.LCFI2:
  78              		.cfi_def_cfa_offset 16
  47:../Core/Src/signals.c **** 
  48:../Core/Src/signals.c **** 	return HAL_DAC_Start_DMA(&hdac, DAC_CHANNEL_2, signal_buff, 100, DAC_ALIGN_12B_R);
  79              		.loc 1 48 2 view .LVU7
  80              		.loc 1 48 9 is_stmt 0 view .LVU8
  81 0004 0023     		movs	r3, #0
  82 0006 0093     		str	r3, [sp]
  83 0008 6423     		movs	r3, #100
  84 000a 044A     		ldr	r2, .L7
  85 000c 1021     		movs	r1, #16
  86 000e 0448     		ldr	r0, .L7+4
  87 0010 FFF7FEFF 		bl	HAL_DAC_Start_DMA
  88              	.LVL3:
  49:../Core/Src/signals.c **** 
  50:../Core/Src/signals.c **** }
  89              		.loc 1 50 1 view .LVU9
  90 0014 03B0     		add	sp, sp, #12
  91              	.LCFI3:
  92              		.cfi_def_cfa_offset 4
  93              		@ sp needed
  94 0016 5DF804FB 		ldr	pc, [sp], #4
  95              	.L8:
  96 001a 00BF     		.align	2
  97              	.L7:
  98 001c 00000000 		.word	.LANCHOR0
  99 0020 00000000 		.word	hdac
 100              		.cfi_endproc
 101              	.LFE142:
 103              		.section	.text.wavegen_stop,"ax",%progbits
 104              		.align	1
 105              		.global	wavegen_stop
 106              		.syntax unified
 107              		.thumb
 108              		.thumb_func
 109              		.fpu fpv5-d16
 111              	wavegen_stop:
 112              	.LFB143:
  51:../Core/Src/signals.c **** 
  52:../Core/Src/signals.c **** /**
  53:../Core/Src/signals.c ****   * @brief  Stops DAC CHANNEL 2
  54:../Core/Src/signals.c ****   * Timer 2 is still running...
  55:../Core/Src/signals.c ****   * @param	none
  56:../Core/Src/signals.c ****   * @retval HAL_StatusTypeDef
  57:../Core/Src/signals.c ****   */
  58:../Core/Src/signals.c **** HAL_StatusTypeDef wavegen_stop(void){
 113              		.loc 1 58 37 is_stmt 1 view -0
 114              		.cfi_startproc
 115              		@ args = 0, pretend = 0, frame = 0
 116              		@ frame_needed = 0, uses_anonymous_args = 0
 117 0000 08B5     		push	{r3, lr}
 118              	.LCFI4:
ARM GAS  /tmp/cciymMYK.s 			page 4


 119              		.cfi_def_cfa_offset 8
 120              		.cfi_offset 3, -8
 121              		.cfi_offset 14, -4
  59:../Core/Src/signals.c **** 
  60:../Core/Src/signals.c **** 	return HAL_DAC_Stop_DMA(&hdac, DAC_CHANNEL_2);
 122              		.loc 1 60 2 view .LVU11
 123              		.loc 1 60 9 is_stmt 0 view .LVU12
 124 0002 1021     		movs	r1, #16
 125 0004 0148     		ldr	r0, .L11
 126 0006 FFF7FEFF 		bl	HAL_DAC_Stop_DMA
 127              	.LVL4:
  61:../Core/Src/signals.c **** 
  62:../Core/Src/signals.c **** }
 128              		.loc 1 62 1 view .LVU13
 129 000a 08BD     		pop	{r3, pc}
 130              	.L12:
 131              		.align	2
 132              	.L11:
 133 000c 00000000 		.word	hdac
 134              		.cfi_endproc
 135              	.LFE143:
 137              		.section	.text.wavegen_freq_update,"ax",%progbits
 138              		.align	1
 139              		.global	wavegen_freq_update
 140              		.syntax unified
 141              		.thumb
 142              		.thumb_func
 143              		.fpu fpv5-d16
 145              	wavegen_freq_update:
 146              	.LVL5:
 147              	.LFB144:
  63:../Core/Src/signals.c **** 
  64:../Core/Src/signals.c **** /**
  65:../Core/Src/signals.c ****   * @brief  Updates the signal frequency by just changing the
  66:../Core/Src/signals.c ****   * Timer 2 period, used to update one sample of the DAC output
  67:../Core/Src/signals.c ****   * Don't forget that we have n = 100 samples
  68:../Core/Src/signals.c ****   * @param	frequency in MHz (suggested values are between 1 and 100 MHz)
  69:../Core/Src/signals.c ****   * @retval HAL_StatusTypeDef
  70:../Core/Src/signals.c ****   */
  71:../Core/Src/signals.c **** HAL_StatusTypeDef wavegen_freq_update(uint32_t freq){
 148              		.loc 1 71 53 is_stmt 1 view -0
 149              		.cfi_startproc
 150              		@ args = 0, pretend = 0, frame = 0
 151              		@ frame_needed = 0, uses_anonymous_args = 0
 152              		.loc 1 71 53 is_stmt 0 view .LVU15
 153 0000 08B5     		push	{r3, lr}
 154              	.LCFI5:
 155              		.cfi_def_cfa_offset 8
 156              		.cfi_offset 3, -8
 157              		.cfi_offset 14, -4
  72:../Core/Src/signals.c **** 
  73:../Core/Src/signals.c **** 	TIMER_2_Update(1080000/freq);
 158              		.loc 1 73 2 is_stmt 1 view .LVU16
 159 0002 034B     		ldr	r3, .L15
 160 0004 B3FBF0F0 		udiv	r0, r3, r0
 161              	.LVL6:
 162              		.loc 1 73 2 is_stmt 0 view .LVU17
ARM GAS  /tmp/cciymMYK.s 			page 5


 163 0008 FFF7FEFF 		bl	TIMER_2_Update
 164              	.LVL7:
  74:../Core/Src/signals.c **** 
  75:../Core/Src/signals.c **** 	return HAL_OK;
 165              		.loc 1 75 2 is_stmt 1 view .LVU18
  76:../Core/Src/signals.c **** 
  77:../Core/Src/signals.c **** }
 166              		.loc 1 77 1 is_stmt 0 view .LVU19
 167 000c 0020     		movs	r0, #0
 168 000e 08BD     		pop	{r3, pc}
 169              	.L16:
 170              		.align	2
 171              	.L15:
 172 0010 C07A1000 		.word	1080000
 173              		.cfi_endproc
 174              	.LFE144:
 176              		.section	.text.wavegen_sin,"ax",%progbits
 177              		.align	1
 178              		.global	wavegen_sin
 179              		.syntax unified
 180              		.thumb
 181              		.thumb_func
 182              		.fpu fpv5-d16
 184              	wavegen_sin:
 185              	.LFB145:
  78:../Core/Src/signals.c **** 
  79:../Core/Src/signals.c **** /**
  80:../Core/Src/signals.c ****   * @brief  Calculates and generates the sample values for a sin wave
  81:../Core/Src/signals.c ****   * with A between 0 and VRef 0000 - FFF (0V to 3.3V)
  82:../Core/Src/signals.c ****   * @param	none
  83:../Core/Src/signals.c ****   * @retval none
  84:../Core/Src/signals.c ****   */
  85:../Core/Src/signals.c **** void wavegen_sin(void){
 186              		.loc 1 85 23 is_stmt 1 view -0
 187              		.cfi_startproc
 188              		@ args = 0, pretend = 0, frame = 0
 189              		@ frame_needed = 0, uses_anonymous_args = 0
 190 0000 10B5     		push	{r4, lr}
 191              	.LCFI6:
 192              		.cfi_def_cfa_offset 8
 193              		.cfi_offset 4, -8
 194              		.cfi_offset 14, -4
  86:../Core/Src/signals.c **** 
  87:../Core/Src/signals.c **** 	for (int i = 0; i < 100; i++)
 195              		.loc 1 87 2 view .LVU21
 196              	.LBB2:
 197              		.loc 1 87 7 view .LVU22
 198              	.LVL8:
 199              		.loc 1 87 11 is_stmt 0 view .LVU23
 200 0002 0024     		movs	r4, #0
 201              		.loc 1 87 2 view .LVU24
 202 0004 1EE0     		b	.L18
 203              	.LVL9:
 204              	.L19:
  88:../Core/Src/signals.c **** 		signal_buff[i] = ((sin(i*2*PI/100) + 1) * ((0xFFF)/2));
 205              		.loc 1 88 3 is_stmt 1 discriminator 3 view .LVU25
 206              		.loc 1 88 27 is_stmt 0 discriminator 3 view .LVU26
ARM GAS  /tmp/cciymMYK.s 			page 6


 207 0006 6300     		lsls	r3, r4, #1
 208 0008 07EE103A 		vmov	s14, r3	@ int
 209              		.loc 1 88 29 discriminator 3 view .LVU27
 210 000c B8EEC77B 		vcvt.f64.s32	d7, s14
 211 0010 9FED0F0B 		vldr.64	d0, .L21
 212 0014 27EE007B 		vmul.f64	d7, d7, d0
 213              		.loc 1 88 22 discriminator 3 view .LVU28
 214 0018 9FED0F0B 		vldr.64	d0, .L21+8
 215 001c 87EE000B 		vdiv.f64	d0, d7, d0
 216 0020 FFF7FEFF 		bl	sin
 217              	.LVL10:
 218              		.loc 1 88 38 discriminator 3 view .LVU29
 219 0024 B7EE007B 		vmov.f64	d7, #1.0e+0
 220 0028 30EE070B 		vadd.f64	d0, d0, d7
 221              		.loc 1 88 43 discriminator 3 view .LVU30
 222 002c 9FED0C7B 		vldr.64	d7, .L21+16
 223 0030 20EE070B 		vmul.f64	d0, d0, d7
 224              		.loc 1 88 18 discriminator 3 view .LVU31
 225 0034 BCEEC00B 		vcvt.u32.f64	s0, d0
 226 0038 0B4B     		ldr	r3, .L21+24
 227 003a 10EE102A 		vmov	r2, s0	@ int
 228 003e 43F82420 		str	r2, [r3, r4, lsl #2]
  87:../Core/Src/signals.c **** 		signal_buff[i] = ((sin(i*2*PI/100) + 1) * ((0xFFF)/2));
 229              		.loc 1 87 27 is_stmt 1 discriminator 3 view .LVU32
  87:../Core/Src/signals.c **** 		signal_buff[i] = ((sin(i*2*PI/100) + 1) * ((0xFFF)/2));
 230              		.loc 1 87 28 is_stmt 0 discriminator 3 view .LVU33
 231 0042 0134     		adds	r4, r4, #1
 232              	.LVL11:
 233              	.L18:
  87:../Core/Src/signals.c **** 		signal_buff[i] = ((sin(i*2*PI/100) + 1) * ((0xFFF)/2));
 234              		.loc 1 87 18 is_stmt 1 discriminator 1 view .LVU34
  87:../Core/Src/signals.c **** 		signal_buff[i] = ((sin(i*2*PI/100) + 1) * ((0xFFF)/2));
 235              		.loc 1 87 2 is_stmt 0 discriminator 1 view .LVU35
 236 0044 632C     		cmp	r4, #99
 237 0046 DEDD     		ble	.L19
 238              	.LBE2:
  89:../Core/Src/signals.c **** }
 239              		.loc 1 89 1 view .LVU36
 240 0048 10BD     		pop	{r4, pc}
 241              	.LVL12:
 242              	.L22:
 243              		.loc 1 89 1 view .LVU37
 244 004a 00BFAFF3 		.align	3
 244      0080
 245              	.L21:
 246 0050 4AD8124D 		.word	1293080650
 247 0054 FB210940 		.word	1074340347
 248 0058 00000000 		.word	0
 249 005c 00005940 		.word	1079574528
 250 0060 00000000 		.word	0
 251 0064 00FC9F40 		.word	1084226560
 252 0068 00000000 		.word	.LANCHOR0
 253              		.cfi_endproc
 254              	.LFE145:
 256              		.section	.text.wavegen_tri,"ax",%progbits
 257              		.align	1
 258              		.global	wavegen_tri
ARM GAS  /tmp/cciymMYK.s 			page 7


 259              		.syntax unified
 260              		.thumb
 261              		.thumb_func
 262              		.fpu fpv5-d16
 264              	wavegen_tri:
 265              	.LFB146:
  90:../Core/Src/signals.c **** 
  91:../Core/Src/signals.c **** /**
  92:../Core/Src/signals.c ****   * @brief  Calculates and generates the sample values for a triangle wave
  93:../Core/Src/signals.c ****   * with A between 0 and VRef 0000 - FFF (0V to 3.3V)
  94:../Core/Src/signals.c ****   * @param	none
  95:../Core/Src/signals.c ****   * @retval none
  96:../Core/Src/signals.c ****   */
  97:../Core/Src/signals.c **** void wavegen_tri(void){
 266              		.loc 1 97 23 is_stmt 1 view -0
 267              		.cfi_startproc
 268              		@ args = 0, pretend = 0, frame = 0
 269              		@ frame_needed = 0, uses_anonymous_args = 0
 270              		@ link register save eliminated.
  98:../Core/Src/signals.c **** 
  99:../Core/Src/signals.c **** 	for (int i = 0; i < 50; i++)
 271              		.loc 1 99 2 view .LVU39
 272              	.LBB3:
 273              		.loc 1 99 7 view .LVU40
 274              	.LVL13:
 275              		.loc 1 99 11 is_stmt 0 view .LVU41
 276 0000 0023     		movs	r3, #0
 277              		.loc 1 99 2 view .LVU42
 278 0002 07E0     		b	.L24
 279              	.LVL14:
 280              	.L25:
 100:../Core/Src/signals.c **** 		signal_buff[i] = i * ((0xFFF)/50);
 281              		.loc 1 100 3 is_stmt 1 discriminator 3 view .LVU43
 282              		.loc 1 100 22 is_stmt 0 discriminator 3 view .LVU44
 283 0004 03EBC302 		add	r2, r3, r3, lsl #3
 284 0008 02EBC202 		add	r2, r2, r2, lsl #3
 285              		.loc 1 100 18 discriminator 3 view .LVU45
 286 000c 0A49     		ldr	r1, .L28
 287 000e 41F82320 		str	r2, [r1, r3, lsl #2]
  99:../Core/Src/signals.c **** 		signal_buff[i] = i * ((0xFFF)/50);
 288              		.loc 1 99 26 is_stmt 1 discriminator 3 view .LVU46
  99:../Core/Src/signals.c **** 		signal_buff[i] = i * ((0xFFF)/50);
 289              		.loc 1 99 27 is_stmt 0 discriminator 3 view .LVU47
 290 0012 0133     		adds	r3, r3, #1
 291              	.LVL15:
 292              	.L24:
  99:../Core/Src/signals.c **** 		signal_buff[i] = i * ((0xFFF)/50);
 293              		.loc 1 99 18 is_stmt 1 discriminator 1 view .LVU48
  99:../Core/Src/signals.c **** 		signal_buff[i] = i * ((0xFFF)/50);
 294              		.loc 1 99 2 is_stmt 0 discriminator 1 view .LVU49
 295 0014 312B     		cmp	r3, #49
 296 0016 F5DD     		ble	.L25
 297              	.LBE3:
 298              	.LBB4:
 101:../Core/Src/signals.c **** 
 102:../Core/Src/signals.c **** 	for (int i = 50; i > 0; i--)
 299              		.loc 1 102 11 view .LVU50
ARM GAS  /tmp/cciymMYK.s 			page 8


 300 0018 3223     		movs	r3, #50
 301              	.LVL16:
 302              		.loc 1 102 11 view .LVU51
 303 001a 09E0     		b	.L26
 304              	.LVL17:
 305              	.L27:
 103:../Core/Src/signals.c **** 		signal_buff[100 - i] = i * ((0xFFF)/50);
 306              		.loc 1 103 3 is_stmt 1 discriminator 3 view .LVU52
 307              		.loc 1 103 19 is_stmt 0 discriminator 3 view .LVU53
 308 001c C3F16400 		rsb	r0, r3, #100
 309              		.loc 1 103 28 discriminator 3 view .LVU54
 310 0020 03EBC302 		add	r2, r3, r3, lsl #3
 311 0024 02EBC202 		add	r2, r2, r2, lsl #3
 312              		.loc 1 103 24 discriminator 3 view .LVU55
 313 0028 0349     		ldr	r1, .L28
 314 002a 41F82020 		str	r2, [r1, r0, lsl #2]
 102:../Core/Src/signals.c **** 		signal_buff[100 - i] = i * ((0xFFF)/50);
 315              		.loc 1 102 26 is_stmt 1 discriminator 3 view .LVU56
 102:../Core/Src/signals.c **** 		signal_buff[100 - i] = i * ((0xFFF)/50);
 316              		.loc 1 102 27 is_stmt 0 discriminator 3 view .LVU57
 317 002e 013B     		subs	r3, r3, #1
 318              	.LVL18:
 319              	.L26:
 102:../Core/Src/signals.c **** 		signal_buff[100 - i] = i * ((0xFFF)/50);
 320              		.loc 1 102 19 is_stmt 1 discriminator 1 view .LVU58
 102:../Core/Src/signals.c **** 		signal_buff[100 - i] = i * ((0xFFF)/50);
 321              		.loc 1 102 2 is_stmt 0 discriminator 1 view .LVU59
 322 0030 002B     		cmp	r3, #0
 323 0032 F3DC     		bgt	.L27
 324              	.LBE4:
 104:../Core/Src/signals.c **** }
 325              		.loc 1 104 1 view .LVU60
 326 0034 7047     		bx	lr
 327              	.L29:
 328 0036 00BF     		.align	2
 329              	.L28:
 330 0038 00000000 		.word	.LANCHOR0
 331              		.cfi_endproc
 332              	.LFE146:
 334              		.section	.text.wavegen_sqr,"ax",%progbits
 335              		.align	1
 336              		.global	wavegen_sqr
 337              		.syntax unified
 338              		.thumb
 339              		.thumb_func
 340              		.fpu fpv5-d16
 342              	wavegen_sqr:
 343              	.LFB147:
 105:../Core/Src/signals.c **** 
 106:../Core/Src/signals.c **** /**
 107:../Core/Src/signals.c ****   * @brief  Calculates and generates the sample values for a square wave
 108:../Core/Src/signals.c ****   * with A between 0 and VRef 0000 - FFF (0V to 3.3V)
 109:../Core/Src/signals.c ****   * @param	none
 110:../Core/Src/signals.c ****   * @retval none
 111:../Core/Src/signals.c ****   */
 112:../Core/Src/signals.c **** void wavegen_sqr(void){
 344              		.loc 1 112 23 is_stmt 1 view -0
ARM GAS  /tmp/cciymMYK.s 			page 9


 345              		.cfi_startproc
 346              		@ args = 0, pretend = 0, frame = 0
 347              		@ frame_needed = 0, uses_anonymous_args = 0
 348              		@ link register save eliminated.
 113:../Core/Src/signals.c **** 
 114:../Core/Src/signals.c **** 	for (int i = 0; i < 50; i++){
 349              		.loc 1 114 2 view .LVU62
 350              	.LBB5:
 351              		.loc 1 114 7 view .LVU63
 352              	.LVL19:
 353              		.loc 1 114 11 is_stmt 0 view .LVU64
 354 0000 0023     		movs	r3, #0
 355              		.loc 1 114 2 view .LVU65
 356 0002 0AE0     		b	.L31
 357              	.LVL20:
 358              	.L32:
 115:../Core/Src/signals.c **** 		signal_buff[i] = (0xFFF);
 359              		.loc 1 115 3 is_stmt 1 discriminator 3 view .LVU66
 360              		.loc 1 115 18 is_stmt 0 discriminator 3 view .LVU67
 361 0004 064A     		ldr	r2, .L33
 362 0006 40F6FF71 		movw	r1, #4095
 363 000a 42F82310 		str	r1, [r2, r3, lsl #2]
 116:../Core/Src/signals.c **** 		signal_buff[i + 50] = 0;
 364              		.loc 1 116 3 is_stmt 1 discriminator 3 view .LVU68
 365              		.loc 1 116 17 is_stmt 0 discriminator 3 view .LVU69
 366 000e 03F13201 		add	r1, r3, #50
 367              		.loc 1 116 23 discriminator 3 view .LVU70
 368 0012 0020     		movs	r0, #0
 369 0014 42F82100 		str	r0, [r2, r1, lsl #2]
 114:../Core/Src/signals.c **** 		signal_buff[i] = (0xFFF);
 370              		.loc 1 114 26 is_stmt 1 discriminator 3 view .LVU71
 114:../Core/Src/signals.c **** 		signal_buff[i] = (0xFFF);
 371              		.loc 1 114 27 is_stmt 0 discriminator 3 view .LVU72
 372 0018 0133     		adds	r3, r3, #1
 373              	.LVL21:
 374              	.L31:
 114:../Core/Src/signals.c **** 		signal_buff[i] = (0xFFF);
 375              		.loc 1 114 18 is_stmt 1 discriminator 1 view .LVU73
 114:../Core/Src/signals.c **** 		signal_buff[i] = (0xFFF);
 376              		.loc 1 114 2 is_stmt 0 discriminator 1 view .LVU74
 377 001a 312B     		cmp	r3, #49
 378 001c F2DD     		ble	.L32
 379              	.LBE5:
 117:../Core/Src/signals.c **** 	}
 118:../Core/Src/signals.c **** }
 380              		.loc 1 118 1 view .LVU75
 381 001e 7047     		bx	lr
 382              	.L34:
 383              		.align	2
 384              	.L33:
 385 0020 00000000 		.word	.LANCHOR0
 386              		.cfi_endproc
 387              	.LFE147:
 389              		.section	.text.wavegen_stw,"ax",%progbits
 390              		.align	1
 391              		.global	wavegen_stw
 392              		.syntax unified
ARM GAS  /tmp/cciymMYK.s 			page 10


 393              		.thumb
 394              		.thumb_func
 395              		.fpu fpv5-d16
 397              	wavegen_stw:
 398              	.LFB148:
 119:../Core/Src/signals.c **** 
 120:../Core/Src/signals.c **** /**
 121:../Core/Src/signals.c ****   * @brief  Calculates and generates the sample values for a saw tooth wave
 122:../Core/Src/signals.c ****   * with A between 0 and VRef 0000 - FFF (0V to 3.3V)
 123:../Core/Src/signals.c ****   * @param	none
 124:../Core/Src/signals.c ****   * @retval none
 125:../Core/Src/signals.c ****   */
 126:../Core/Src/signals.c **** void wavegen_stw(void){
 399              		.loc 1 126 23 is_stmt 1 view -0
 400              		.cfi_startproc
 401              		@ args = 0, pretend = 0, frame = 0
 402              		@ frame_needed = 0, uses_anonymous_args = 0
 403              		@ link register save eliminated.
 127:../Core/Src/signals.c **** 
 128:../Core/Src/signals.c **** 	for (int i = 0; i < 100; i++)
 404              		.loc 1 128 2 view .LVU77
 405              	.LBB6:
 406              		.loc 1 128 7 view .LVU78
 407              	.LVL22:
 408              		.loc 1 128 11 is_stmt 0 view .LVU79
 409 0000 0023     		movs	r3, #0
 410              		.loc 1 128 2 view .LVU80
 411 0002 06E0     		b	.L36
 412              	.LVL23:
 413              	.L37:
 129:../Core/Src/signals.c **** 		signal_buff[i] = i * ((0xFFF)/100);
 414              		.loc 1 129 3 is_stmt 1 discriminator 3 view .LVU81
 415              		.loc 1 129 22 is_stmt 0 discriminator 3 view .LVU82
 416 0004 03EB8301 		add	r1, r3, r3, lsl #2
 417 0008 CA00     		lsls	r2, r1, #3
 418              		.loc 1 129 18 discriminator 3 view .LVU83
 419 000a 0349     		ldr	r1, .L38
 420 000c 41F82320 		str	r2, [r1, r3, lsl #2]
 128:../Core/Src/signals.c **** 		signal_buff[i] = i * ((0xFFF)/100);
 421              		.loc 1 128 27 is_stmt 1 discriminator 3 view .LVU84
 128:../Core/Src/signals.c **** 		signal_buff[i] = i * ((0xFFF)/100);
 422              		.loc 1 128 28 is_stmt 0 discriminator 3 view .LVU85
 423 0010 0133     		adds	r3, r3, #1
 424              	.LVL24:
 425              	.L36:
 128:../Core/Src/signals.c **** 		signal_buff[i] = i * ((0xFFF)/100);
 426              		.loc 1 128 18 is_stmt 1 discriminator 1 view .LVU86
 128:../Core/Src/signals.c **** 		signal_buff[i] = i * ((0xFFF)/100);
 427              		.loc 1 128 2 is_stmt 0 discriminator 1 view .LVU87
 428 0012 632B     		cmp	r3, #99
 429 0014 F6DD     		ble	.L37
 430              	.LBE6:
 130:../Core/Src/signals.c **** }
 431              		.loc 1 130 1 view .LVU88
 432 0016 7047     		bx	lr
 433              	.L39:
 434              		.align	2
ARM GAS  /tmp/cciymMYK.s 			page 11


 435              	.L38:
 436 0018 00000000 		.word	.LANCHOR0
 437              		.cfi_endproc
 438              	.LFE148:
 440              		.global	signal_buff
 441              		.section	.bss.signal_buff,"aw",%nobits
 442              		.align	2
 443              		.set	.LANCHOR0,. + 0
 446              	signal_buff:
 447 0000 00000000 		.space	400
 447      00000000 
 447      00000000 
 447      00000000 
 447      00000000 
 448              		.text
 449              	.Letext0:
 450              		.file 2 "../Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f767xx.h"
 451              		.file 3 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 452              		.file 4 "../Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_def.h"
 453              		.file 5 "../Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_dma.h"
 454              		.file 6 "../Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_dac.h"
 455              		.file 7 "../Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_tim.h"
 456              		.file 8 "../Core/Inc/dac.h"
 457              		.file 9 "../Core/Inc/tim.h"
 458              		.file 10 "/usr/include/newlib/math.h"
ARM GAS  /tmp/cciymMYK.s 			page 12


DEFINED SYMBOLS
                            *ABS*:0000000000000000 signals.c
     /tmp/cciymMYK.s:17     .text.wavegen_init:0000000000000000 $t
     /tmp/cciymMYK.s:25     .text.wavegen_init:0000000000000000 wavegen_init
     /tmp/cciymMYK.s:54     .text.wavegen_init:0000000000000014 $d
     /tmp/cciymMYK.s:59     .text.wavegen_start:0000000000000000 $t
     /tmp/cciymMYK.s:66     .text.wavegen_start:0000000000000000 wavegen_start
     /tmp/cciymMYK.s:98     .text.wavegen_start:000000000000001c $d
     /tmp/cciymMYK.s:104    .text.wavegen_stop:0000000000000000 $t
     /tmp/cciymMYK.s:111    .text.wavegen_stop:0000000000000000 wavegen_stop
     /tmp/cciymMYK.s:133    .text.wavegen_stop:000000000000000c $d
     /tmp/cciymMYK.s:138    .text.wavegen_freq_update:0000000000000000 $t
     /tmp/cciymMYK.s:145    .text.wavegen_freq_update:0000000000000000 wavegen_freq_update
     /tmp/cciymMYK.s:172    .text.wavegen_freq_update:0000000000000010 $d
     /tmp/cciymMYK.s:177    .text.wavegen_sin:0000000000000000 $t
     /tmp/cciymMYK.s:184    .text.wavegen_sin:0000000000000000 wavegen_sin
     /tmp/cciymMYK.s:246    .text.wavegen_sin:0000000000000050 $d
     /tmp/cciymMYK.s:257    .text.wavegen_tri:0000000000000000 $t
     /tmp/cciymMYK.s:264    .text.wavegen_tri:0000000000000000 wavegen_tri
     /tmp/cciymMYK.s:330    .text.wavegen_tri:0000000000000038 $d
     /tmp/cciymMYK.s:335    .text.wavegen_sqr:0000000000000000 $t
     /tmp/cciymMYK.s:342    .text.wavegen_sqr:0000000000000000 wavegen_sqr
     /tmp/cciymMYK.s:385    .text.wavegen_sqr:0000000000000020 $d
     /tmp/cciymMYK.s:390    .text.wavegen_stw:0000000000000000 $t
     /tmp/cciymMYK.s:397    .text.wavegen_stw:0000000000000000 wavegen_stw
     /tmp/cciymMYK.s:436    .text.wavegen_stw:0000000000000018 $d
     /tmp/cciymMYK.s:446    .bss.signal_buff:0000000000000000 signal_buff
     /tmp/cciymMYK.s:442    .bss.signal_buff:0000000000000000 $d

UNDEFINED SYMBOLS
MX_DAC_Init
MX_TIM2_Init
HAL_TIM_Base_Start
htim2
HAL_DAC_Start_DMA
hdac
HAL_DAC_Stop_DMA
TIMER_2_Update
sin
